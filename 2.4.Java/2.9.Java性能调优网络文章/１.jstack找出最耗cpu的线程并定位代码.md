jstack找出最耗cpu的线程并定位代码
================================================================================
**jstack可以定位到线程堆栈，根据堆栈信息我们可以定位到具体代码，所以它在JVM性能调优中使用得非常
多**。下面我们来一个实例找出某个Java进程中最耗费CPU的Java线程并定位堆栈信息，用到的命令有`ps`、
`top`、`printf`、`jstack`、`grep`。

**第一步先找出Java进程ID**，服务器上的Java应用名称为`mrf-center`：
```shell
$ ps -ef | grep mrf-center | grep -v grep
```
或者直接：
```shell
$ jps -l
```
从中找到`mrf-center`对应的进程ID。

得到进程ID为`21711`，**第二步找出该进程内最耗费CPU的线程**，可以使用：
```shell
#第一种方法(21711是进程号)
$ ps -Lfp 21711

#第二种方法(21711是进程号)
$ ps -mp 21711 -o THREAD, tid, time

#第三种方法(21711是进程号)
$ top -Hp 21711
```

































ddd
