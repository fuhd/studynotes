流
=============================================================
几乎每个Java应用都会制造和处理集合。但集合用起来并不总是那么理想。比方说，你需要从一个列表中筛选金额
较高的交易，然后按货币分组。你需要写一大堆套路化的代码来实现这个数据处理命令，如下所示：
```java
//建立累积交易分组的Map
Map<Currency, List<Transaction>> transactionsByCurrencies = new HashMap<>();
//遍历交易的List
for (Transaction transaction: transactions) {
    //筛选金额较高的交易
    if(transaction.getPrice() > 1000) {
        //提取交易货币
        Currency currency = transaction.getCurrency();
        //如果这个货币的分组Map是空的，那就建立一个
        List<Transaction> transactionsForCurrency = transactionsByCurrencies.get(currency);
        if (transactionsForCurrency == null) {
            transactionsForCurrency = new ArrayList<>();
            transactionsByCurrencies.put(currency, transactionsForCurrency);
        }
        //将当前遍历的交易添加到具有同一货币的交易List中
        transactionsForCurrency.add(transaction);
    }
}
```
此外，我们很难一眼看出来这些代码是做什么的，因为还有好几个嵌套的控制流指令。有了`Stream API`，你现在可以
这样解决这个问题：
```java
import static java.util.Stream.Collectors.toList;
Map<Currency, List<Transaction>> transactionsByCurrencies = transactions.stream().
    filter((Transaction t) -> t.getPrice() > 1000).     //筛选金额较高的交易
    collect(groupingBy(Transaction::getCurrency()));    //按货币分组
```
