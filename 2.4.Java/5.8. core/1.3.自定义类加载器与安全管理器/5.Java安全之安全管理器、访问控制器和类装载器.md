Java安全之安全管理器、访问控制器和类装载器
================================================================================
## 1.安全管理器：SecurityManager
**安全管理器** 在Java语言中的作用就是检查操作是否有权限执行，**是Java沙箱的基础组件**。我们一
般所说的 **打开沙箱**，也是加 **-Djava.security.manager** 选项。

其实 **日常的很多API都涉及到安全管理器**，它的工作原理一般是：
1. **请求Java API**。
2. **Java API使用安全管理器判断许可权限**。
3. **通过则顺序执行，否则抛出一个Exception**。

比如，**开启沙箱来限制文件访问**，看下源码：
```java
public FileInputStream(File file) throws FileNotFoundException {
    String name = (file != null ? file.getPath() : null);
    SecurityManager security = System.getSecurityManager();
    if (security != null) {
        security.checkRead(name);
    }
    if (name == null) {
        throw new NullPointerException();
    }
    if (file.isInvalid()) {
      throw new FileNotFoundException("Invalid file path");
    }
    fd = new FileDescriptor();
    fd.attach(this);
    path = name;
    open(name);
}
```





































dd
