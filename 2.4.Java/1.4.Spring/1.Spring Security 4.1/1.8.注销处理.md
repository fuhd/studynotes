注销处理
==================================================================
**当使用`WebSecurityConfigurerAdapter`，注销功能将会被自动应用**，也就是说，就算不写也有用。
**默认情况下访问`/logout`也会将用户注销**，包含的内容有：
1. 使`HttpSession`失效；
2. 清空已配置的`RememberMe`验证；
3. 清空`SecurityContextHolder`；
4. 重定向到`/login?success`；

类似于配置登录功能，你同样可以 **自定义自己的注销需求**：
```java
protected void configure(HttpSecurity http) throws Exception {
    http.logout()                                       //1
        .logoutUrl("/my/logout")                        //2
        .logoutSuccessUrl("/my/index")                  //3
        .logoutSuccessHandler(logoutSuccessHandler)     //4
        .invalidateHttpSession(true)                    //5
        .addLogoutHandler(logoutHandler)                //6
        .deleteCookies(cookieNamesToClear)              //7
        .and()
        ...
}
```
1. 提供注销支持，当使用`WebSecurityConfigurerAdapter`时这将会被自动应用；
2. 触发注销操作的`url`，默认是`/logout`。**如果开启了`CSRF`保护(默认开启),那么请求必须是`POST`方式**。
3. 注销操作发生后重定向到的`url`，默认为`/login?logout`。
4. 让你指定自定义的`LogoutSuccessHandler`。如果指定了，`logoutSuccessUrl()`将会被忽略。
5. 指定在注销的时候是否销毁`HttpSession`。默认为`True`。
6. 添加一个`LogoutHandler`。默认情况下，`SecurityContextLogoutHandler`被作为最后一个`LogoutHandler`。
7. 允许指定当注销成功时要移除的`cookie`的名称。这是显式添加`CookieClearingLogoutHandler`的一种快捷处理方式。

一般情况下，为了自定义注销功能，你可以添加 **`LogoutHandler`** 或者 **`LogoutSuccessHandler`** 的实现。对于很多场景，
这些`handler`通过流式`API`的方式进行使用。

### LogoutHandler
一般而言，`LogoutHandler`的实现表示那些可以参与处理注销操作的类。它们被期望用于执行一些必要的清理操作。
**这些实现不应该抛出异常**。默认提供了以下这些实现：
+ PersistentTokenBasedRememberMeServices
+ TokenBasedRememberMeServices
+ CookieClearingLogoutHandler
+ CsrfLogoutHandler
+ SecurityContextLogoutHandler

除了直接提供的`LogoutHandler`的实现，**流式`API`同样为每个`LogoutHandler`提供了快捷方式的实现**，如`deleteCookies()`
允许指定一个或多个当注销成功时需要移除的`cookie`的名称。它是`CookieClearingLogoutHandler`的快捷方式。

### LogoutSuccessHandler
`LogoutSuccessHandler`在`LogoutFilter`成功执行之后被调用，来重定向或者转发到合适的目的地上，注意这个接口
和`LogoutHandler`几乎一样，**但是可以抛出异常**。默认提供了以下实现：
+ SimpleUrlLogoutSuccessHandler
+ HttpStatusReturningLogoutSuccessHandler

正如上面所提到的，你不需要直接的指定`SimpleUrlLogoutSuccessHandler`。流式`API`提供了一个快捷方法来`logoutSuccessUrl()`代替。
底层还是使用`SimpleUrlLogoutSuccessHandler`来实现。当注销发生之后，会重定向到提供的`URL`上，默认是`/login?logout`。

在`REST API`的场景下，可能会对`HttpStatusReturningLogoutSuccessHandler`感兴趣。当注销成功后，不是重定向到一个`URL`，
这个`LogoutSuccessHandler`允许你 **提供一个纯文本的`HTTP`状态码来返回**。如果没有配置，默认情况下返回的是`200`。



