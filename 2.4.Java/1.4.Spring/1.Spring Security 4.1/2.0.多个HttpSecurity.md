多个HttpSecurity
==========================================================================
我们可以配置多个`HttpSecurity`实例，就像我们可以在`xml`文件中配置多个`<http>`一样。关键在于多次扩展
`WebSecurityConfigurationAdapter`。例如，以下是一个对于以`/api/`开头的`url`的不同配置：
```java
@EnableWebSecurity
public class MultiHttpSecurityConfig {
    @Autowired
    public void configureGlobal(AuthenticationManagerBuilder auth) {
        auth.inMemoryAuthentication()
            .withUser("user").password("password").roles("USER").and()
            .withUser("admin").password("password").roles("USER", "ADMIN");
    }
    
    @Configuration
    @Order(1)
    public static class ApiWebSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {
        protected void configure(HttpSecurity http) throws Exception {
            http.antMatcher("/api/**")
                .authorizeRequests()
                .anyRequest().hasRole("ADMIN")
                .and()
                .httpBasic();
        }
    }
    
    @Configuration
    public static class FormLoginWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {
        @Override
        protected void configure(HttpSecurity http) throws Exception {
            http.authorizeRequests()
                .anyRequest()
                .authenticated()
                .and()
                .formLogin();
        }
    }
}
```
1. 按照正常的方式配置验证；
2. 创建一个包含`@Order`的`WebSecurityConfigurerAdapter`实例来指定哪一个`WebSecurityConfigurerAdapter`应该被首先考虑。
3. `http.antMatcher`表明这个`HttpSecurity`只适用于以`/api/`开头的`URL`。
4. 创建另一个`WebSecurityConfigurerAdapter`实例。**如果`URL`没有以`/api/`开头，这个配置将会被使用**。这个配置在
`ApiWebSecurityConfigurationAdapter`之后生效，因为其含有一个`@Order`值为`1`，没有｀@Order｀默认是最后一个生效。

**注**：对于一些小的应用，可能我们的应用的后台管理界面和前台用户界面都集成在一个应用中，这个时候使用这种方式的配置就非常有用。 


