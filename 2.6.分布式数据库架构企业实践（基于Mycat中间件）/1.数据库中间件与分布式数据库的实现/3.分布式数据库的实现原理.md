分布式数据库的实现原理
=================================================================
**分布式数据库具有逻辑整体性、物理分布性**，正是因为其物理分布性才使得分布式数据库的实现变得更加复杂，
因为数据划分后存储在不同的节点上，**而为了保证可靠性，需要存储多个副本**，所以产生了数据复制的问题。
为了保证良好的性能，分布式数据库必须易于扩展。具体来讲分布式数据库应有4个优势：**数据分片及复制管理、
具有事务的可靠性存取、良好的性能、易于扩展**。所以分布式数据库在设计上需要实现分布式数据库的 **目录管理、
数据分片、分布式查询处理、分布式并发控制、分布式锁管理、分布式存储、分布式网络架构、分布式安全管理等**。 

### 分布式数据库目录管理
分布式数据库的目录存放着 **系统元数据** 及 **数据库的元数据** 的全部信息，这些数据的存在是为了正确、
有效地访问数据。数据的增、删、改、查操作都需要用到目录，用户授权、安全管理及并发控制等也都需要用到目录，
目录结构的合理性直接影响数据库的性能。目录一般包括各级模式的描述、访问方法的描述、关于数据库的统计数据
和一致性信息等，系统根据这些信息将用户查询转换为物理数据库上的查询。选择一条最佳的存取路径进行事务管理
及安全性、完整性检查等。

分布式数据库的目录可分为 **全局目录、分布式目录、全局与本地混合目录**。

### 数据分片
当数据库过于庞大，尤其是写入过于频繁且很难由一台主机支撑时，我们还是会面临扩展瓶颈。我们将存放在同一个
数据库实例中的数据分散存放到多个数据库实例（主机）上，进行多台设备存取以提高性能，在切分数据的同时可以
提高系统整体的可用性。

数据分片是指将数据全局地划分为相关的逻辑片段，有水平切分、垂直切分、混合切分三种类型。
+ **水平切分**： 按照某个字段的某种规则分散到多个节点库中，每个节点中包含一部分数据。可以将数据的水平切分
简单理解为按照数据行进行切分，就是将表中的某些行切分到一个节点，将另外某些行切分到其他节点，从分布式的
整体来看它们是一个整体的表。
+ **垂直切分**： 一个数据库由很多表构成，每个表对应不同的业务，垂直切分是指按照业务将表进行分类并分布
到不同的节点上。垂直拆分简单明了，拆分规则明确，应用程序模块清晰、明确、容易整合、但是某个表的数据量达到
一定程度后扩展起来比较困难。
+ **混合切分**： 为水平切分与垂直切分的结合。

### 分布式查询处理
分布式查询处理的任务就是 **把一个分布式数据库上的高层次查询映射为在本地数据库上的操作**，查询的解析必须拆分为
代数查询的关系运算序列，将要查询的数据定位到各节点，使得查询在各节点进行，最后通过网络通信的操作汇聚查询
结果。

### 分布式并发控制
并发控制是分布式事务管理的基本任务之一，其目的是保证分布式数据库中的多个事务并发高效、正确地执行。
**并发控制用来保证事务的可串行性，也就是说事务的并发执行等价于它们按某种次序的串行执行**，从而为用户提供并发的
透明性。进行并发控制的方法主要有三种：**加锁并发控制、时间戳控制、乐观并发控制**。


