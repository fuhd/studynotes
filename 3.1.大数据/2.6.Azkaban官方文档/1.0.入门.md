入门
================================================================================
在`3.0`版之后，我们提供两种模式：独立“Solo服务”模式和分布式多执行器模式。以下描述了两种模式之
间的差异。

**在Solo服务模式下，数据库嵌入H2**，并且Web服务器和执行程序服务器都在同一进程中运行。如果只是
想尝试一下，这应该是有用的。它也可以用于小规模的用例。

**多执行器模式适用于最严肃的生产环境。它的DB应该由具有主从设置的MySQL实例支持。理想情况下，Web
服务器和执行程序服务器应在不同的主机中运行，以便升级和维护不应影响用户**。这种多主机设置为Azkaban
带来了强大且可扩展的方面。

+ 设置数据库
+ 配置数据库以使用多个执行程序
+ 为在数据库中配置的每个执行程序下载并安装Executor Server
+ 安装Azkaban插件
+ 安装Web服务器

以下是如何设置Azkaban的说明。

## 1.从源构建
Azkaban构建使用Gradle（使用gradlew运行时自动下载，这是Gradle包装器）并且需要 **Java8或更高
版本**。

以下命令在`Linux`，`OS X`等`* nix`平台上运行。
```shell
# Build Azkaban
./gradlew build

# Clean the build
./gradlew clean

# Build and install distributions
./gradlew installDist

# Run tests
./gradlew test

# Build without running tests
./gradlew build -x test
```
Gradle在项目目录中创建`.tar.gz`文件。例如：
`./azkaban-solo-server/build/distributions/azkaban-solo-server-0.1.0-SNAPSHOT.tar.gz`。
使用`tar -xvzf path/to/azkaban-*.tar.gz`解压缩。

## 2.Solo Server入门
Solo服务是Azkaban的独立实例，也是最简单的入门实例。Solo服务具有以下优点。
+ **易于安装** - 无需MySQL实例。它将H2打包为主要的持久存储。
+ **易于启动** - Web服务器和执行程序服务器都在同一个进程中运行。
+ **全功能** - 它包含所有Azkaban功能。您可以以正常方式使用它并为其安装插件。

### 2.1.安装
1. clone
    ```shell
    git clone https://github.com/azkaban/azkaban.git 
    ```
2. 构建Azkaban并创建安装包
    ```shell
    cd azkaban; 
    ./gradlew build installDist
    ```
3. 启动Solo服务
    ```shell
    cd azkaban-solo-server/build/install/azkaban-solo-server
    bin/start-solo.sh
    ```
    Azkaban solo服务应该全部设置，通过 **8081默认监听端口** 接受传入的网络请求。所以，打开一
    个Web浏览器并查看 http://localhost:8081/
4. 停止服务
    ```shell
    bin/shutdown-solo.sh
    ```

Solo服务安装应包含以下目录：

| 文件夹 | 描述 |
|:------ |:------ |
| bin | 启动/停止Azkaban solo服务的脚本 |
| conf | Azkaban solo服务的配置文件 |
| lib | Azkaban的jar依赖项 |
| extlib | 添加到extlib的其他jar将添加到Azkaban的类路径中 |
| plugins | 可以安装插件的目录 |
| web | Azkaban Web服务的Web（css，javascript，image）文件 |