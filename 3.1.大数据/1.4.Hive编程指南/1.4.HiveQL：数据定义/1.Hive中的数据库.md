Hive中的数据库
=================================================================================
HiveQL是Hive查询语言。和普遍使用的所有SQL方言一样，它不完全遵守任一种ANSI SQL标准的修订版。**HiveQL
可能和MySQL的方言最接近**，但是两者还是存在显著性差异的。**Hive不支持行级插入操作、更新操作和删除操作。
Hive也不支持事务**。

**Hive中数据库** 的概念本质上仅仅是表的一个 **目录或者命名空间**。然而，对于具有很多组和用户的大集群来说，
这是非常有用的，因为这样可以 **避免表命名冲突**。通常会使用数据库来将生产表组织成 **逻辑组**。

**如果用户没有显式指定数据库，那么将会使用默认的数据库default**。

下面这个例子就展示了如何创建一个数据库：
```sql
hive> CREATE DATABASE financials;
```
**如果数据库financials已经存在的话，那么将会抛出一个错误信息**。使用如下语句可以避免在这种情况下抛出错误
信息：
```sql
hive> CREATE DATABASE IF NOT EXISTS financials;
```

可以通过如下命令方式查看Hive中所包含的数据库：
```sql
hive> SHOW DATABASES;

default
financials
```

如果数据库非常多的话，那么 **可以使用正则表达式匹配来筛选出需要的数据库名**。下面这个例子展示的是列举出所有
以字母f开头，以其它字符结尾（即.＊部分含义）的数据库名：
```sql
hive> SHOW DATABASES LIKE 'f.*';

financials
```
**Hive会为每个数据库创建一个目录。数据库中的表将会以这个数据库目录的子目录形式存储。有一个例外就是default
数据库中的表，因为这个数据库本身没有自己的目录**。

**数据库所在的目录位于属性hive.metastore.warehouse.dir所指定的顶层目录之后**。假设用户使用的是这个匹配项
默认的配置，也就是/user/hive/warehouse，那么当我们创建数据库financials时，Hive将会对应地创建一个目录
/user/hive/warehouse/financials.db。这里请注意，**数据库的文件目录名是以.db结尾的**。

用户可以通过如下的命令来 **修改这个默认的位置**：
```sql
hive> CREATE DATABASE financials LOCATION '/my/preferred/directory';
```
用户也可以 **为这个数据库增加一个描述信息**，这样通过 **DESCRIBE DATABASE dbname命令** 就可以查看到
该信息：
```sql
hive> CREATE DATABASE financials COMMENT 'Holds all financial tables';
```
```sql
hive> DESCRIBE DATABASE financials;

financials Holds all financial tables
    hdfs://master-server/user/hive/warehouse/financials.db
```













































ddd
