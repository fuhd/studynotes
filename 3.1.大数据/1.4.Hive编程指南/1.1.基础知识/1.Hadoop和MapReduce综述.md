Hadoop和MapReduce综述
=================================================================================
**Hadoop生态系统就是为处理大数据集而产生的一个合乎成本效益的解决方案。Hadoop实现了一个特别的计算
模型，也就是MapReduce，其可以将计算任务分割成多个处理单元然后分散到一群家用的或服务器级别的硬件机
器上，从而降低成本并提供水平可伸缩性**。这个计算模型的下面是一个被称为Hadoop分布式文件系统（**HDFS**）
的分布式文件系统。这个文件系统是“可插拔的”，**而且现在已经出现了几个商用的和开源的替代方案**。

不过，仍然存在一个挑战，那就是用户如何从一个 **现有的数据基础架构转移到Hadoop上**，而这个 **基础架
构是基于传统关系型数据库和结构化查询语句（SQL）的**。对于大量的SQL用户（包括专业数据库设计师和管理员，
也包括那些使用SQL从数据仓库中抽取信息的临时用户）来说，这个问题又将如何解决呢？

这就是Hive出现的原因。**Hive提供了一个被称为Hive查询语言（简称HiveQL或HQL）的SQL方言，来查询存储
在Hadoop集群中的数据**。

SQL知识分布广泛的一个原因是：它是一个可以有效地、合理地且直观地组织和使用数据的模型。即使对于经验丰
富的Java开发工程师来说，将这些常见的数据运算对应到底层的MapReduce Java API也是令人畏缩的。Hive
可以帮助用户来做这些苦活，这样用户就可以集中精力关注于查询本身了。**Hive可以将大多数的查询转换为
MapReduce任务（job）**，进而在介绍一个令人熟悉的SQL抽象的同时，拓宽Hadoop的可扩展性。

**Hive最适合于数据仓库应用程序，使用该应用程序进行相关的静态数据分析，不需要快速响应给出结果，而且
数据本身不会频繁变化**。

**Hive不是一个完整的数据库。Hadoop以及HDFS的设计本身约束和局限性地限制了Hive所能胜任的工作。其中最
大的限制就是Hive不支持记录级别的更新、插入或者删除操作。但是用户可以通过查询生成新表或者将查询结果导
入到文件中**。同时，因为Hadoop是一个面向批处理的系统，而MapReduce任务（job）的启动过程需要消耗较长
的时间，所以Hive查询延时比较严重。**传统数据库中在秒级别可以完成的查询，在Hive中，即使数据集相对较小，
往往也需要执行更长的时间**。最后需要说明的是，**Hive不支持事务**。

因此，**Hive不支持OLTP（联机事务处理）所需的关键功能，而更接近成为一个OLAP（联机分析技术）工具**。
但是我们将会看到，由于Hadoop本身的时间开销很大，并且Hadoop所被设计用来处理的数据规模非常大，因此
提交查询和返回结果是可能具有非常大的延时的，**所以Hive并没有满足OLAP中的“联机”部分，至少目前并没有
满足（不知道现在能不能满足? 编辑于2018.01.04）**。

**如果用户需要对大规模数据使用OLTP功能的话，那么应该选择使用一个NoSQL数据库**，例如，和Hadoop结合
使用的 **HBase** 及 **Cassandra**。用户甚至可以和这些数据库（还包括其他一些数据库）结合来使用
Hive。

因此，**Hive是最适合数据仓库应用程序的**，其可以维护海量数据，而且可以对数据进行挖掘，然后形成意见
和报告等。

因为大多数的数据仓库应用程序是使用基于SQL的关系型数据库实现的，所以Hive降低了将这些应用程序移植到
Hadoop上的障碍。

不过，和大多数SQL方言一样，**HiveQL并不符合ANSI SQL标准**，其和Oracle，MySQL，SQL Server支
持的常规SQL方言在很多方面存在差异（不过，**HiveQL和MySQL提供的SQL方言最接近**）。

















































































































2222
