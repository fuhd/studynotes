配置网络名称
================================================================================
```
重要提示：CDH需要IPv4。IPv6不受支持。
```
按如下所示 **配置群集中的每台主机**，以确保所有成员都可以相互通信：
1. 将主机名设置为唯一的名称（不是`localhost`）。
    ```shell
    $ sudo hostnamectl set-hostname foo-1.example.com
    ```
2. 使用集群中每台主机的IP地址和完全限定的域名（FQDN）编辑`/etc/hosts`。 您也可以添加不合格的名称。
    ```
    1.1.1.1  foo-1.example.com  foo-1
    2.2.2.2  foo-2.example.com  foo-2
    3.3.3.3  foo-3.example.com  foo-3
    4.4.4.4  foo-4.example.com  foo-4
    ```
    ```
    重要：

    1. /etc/hosts 中每个主机的规范名称必须是FQDN（例如：myhost-1.example.com），而不是不合格的主机名（例如myhost-1）
    规范名称是IP地址之后的第一个条目。
    2. 不要在 /etc/hosts 或配置DNS中使用别名。
    ```
    ```
    说明：

    FQDN：全限定域名（Fully Qualified Domain Name），同时带有主机名和域名的名称（通过符号“.”）。访问时将由DNS进行解析
    得到IP。

    FQDN = Hostname + DomainName

    当我们申请了一个域名时，就可以使用这个域名来得到IP，但若这个域名下挂在很多主机如何？我是不是得申请很多很多域名给每个主
    机？不需要，域名即创建了一个域，就如命名空间，在这个命名空间下，其他主机都可以创建自己的名称。这个名称就是通过以上公式
    得来。

    举个例子，一个公司申请了域名comp.com，这时候有一台主机名为web，则可以使用web.comp.com得到这个主机IP。若还有两台提
    供邮件和OA服务的主机cmail，oa，则这时候可以用以下FQDN：
    cmail.comp.com
    oa.comp.com

    类似例子也在安装linux系统时，很多时候我们安装Ubuntu，Debian或Kali时，会需要你填写一个域，这个域即是你自己的，只是没
    有注册，且只能在本地网络使用。

    Linux下查看方式：
    hostname， 查看主机名
    hostname -f 查看FQDN
    dnsdomainname 查看域
    uname -h 查看主机名
    ```
3. 仅使用此主机的FQDN编辑 `/etc/sysconfig/network`：
    ```ini
    HOSTNAME=foo-1.example.com
    ```
4. 验证每个主机是否始终向网络标识：
    + 运行`uname -a`并检查主机名是否与`hostname`命令的输出相匹配。
    + 运行 `/sbin/ifconfig`并记下eth0（或bond0）条目中inet addr的值，例如：
        ```
        eth0      Link encap:Ethernet  HWaddr 00:0C:29:A4:E8:97  
        inet addr:172.29.82.176  Bcast:172.29.87.255  Mask:255.255.248.0
        ...
        ```
    + 运行`host -v -t A $(hostname)`并验证输出是否与`hostname`命令匹配。
      IP地址应该与ifconfig对eth0（或bond0）所报告的相同：
        ```
        Trying "foo-1.example.com"
        ...
        ;; ANSWER SECTION:
        foo-1.example.com. 60 IN
        A
        172.29.82.176
        ```


































222
