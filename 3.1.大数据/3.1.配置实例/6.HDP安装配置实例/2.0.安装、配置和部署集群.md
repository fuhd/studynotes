安装、配置和部署集群
================================================================================
## 1.启动Ambari服务器
在Ambari Server（`10.10.26.31`）主机上运行以下命令：
```shell
ambari-server start
```

## 2.登录Apache Ambari
地址：http://10.10.26.31:8080 

账号/密码：admin/admin

## 3.启动Ambari群集安装向导
1. 在Ambari Welcome页面中，选择Launch Install Wizard。

    ![安装向导](img/1.png)

2. 命名的集群

    ![命名的集群](img/2.png)

3. 选择版本

    ![选择版本1](img/3.png)

    ![选择版本2](img/4.png)

    注意：要勾选

4. 安装选项

    ![安装选项](img/5.png)

    **注意：这里的私钥文件要从Ambari server主机上复制到自己当前的工作机器上**。

5. 确认主机

    ![确认主机](img/6.png)

6. 选择服务

    ![选择服务1](img/7.png)

    ![选择服务2](img/8.png)

    当前选择了如下服务：
    + HDFS
    + YARN+MR2
    + Tez
    + Hive
    + HBase
    + Sqoop
    + Oozie
    + Zookeeper
    + Infra Solr
    + Ambari Metrics
    + Atlas
    + Kafka
    + Ranger
    + Ranger KMS
    + Spark2

7. 分配Masters

    ![分配Masters1](img/9.png)

    ![分配Masters2](img/10.png)

8. 分配Slaves和客户端

    ![分配Slaves和客户端](img/11.png)

9. 自定义服务

    + 请提供这些服务的密码
        
        ![请提供这些服务的密码1](img/12.png)

        ![请提供这些服务的密码2](img/13.png)

    + 请为这些服务选择并配置相应的数据库

        **Hive**：
        ![请为这些服务选择并配置相应的数据库1](img/14.png)
        ```
        注意：

        要将MySQL与Hive一起使用，必须从MySQL下载对应的MySQL驱动（https://dev.mysql.com/downloads/connector/j/）。
        CentOS7下载的是：mysql-connector-java-8.0.16-1.el7.noarch.rpm。执行安装命令，将被安装到/usr/share/java目
        录。下载到Ambari Server主机后，运行安装命令：
        rpm -ivh mysql-connector-java-8.0.16-1.el7.noarch.rpm
        然后执行下面的命令：
        ambari-server setup --jdbc-db=mysql --jdbc-driver=/path/to/mysql/com.mysql.jdbc.Driver
        ```
        **执行如下命令**：
        ```shell
        ambari-server setup --jdbc-db=mysql --jdbc-driver=/usr/share/java/com.mysql.jdbc.Driver
        ```



    


    


