配置独立用户运行Oozie作业
================================================================================
配置独立用户运行Oozie作业的目的是规避权限问题。

## 1.创建用户并归属hadoop组
```shell
#在每一台主机上执行
useradd -d /home/zjimee -s /bin/bash -g hadoop zjimee
```

## 2.将以下两个属性添加到自定义oozie-site.xml中
在Ambari中，`Oozie -> CONFIGS -> ADVANCED -> Custom oozie-site`中添加以下两个参数：
```ini
oozie.service.ProxyUserService.proxyuser.zjimee.hosts = *
#注意：对于最佳实践，为组添加*（星号）并不理想。而是放置用户所属的组。 例如：如果您以用户zjimee
#登录，希望以用户'hive'的身份运行作业，请将用户'hive'所属的组放在*（星号）的位置。
oozie.service.ProxyUserService.proxyuser.zjimee.groups = *
```

## 3.重新启动Oozie服务
添加上述属性后重新启动Oozie服务。

## 示例：运行Oozie命令
以独立用户而不是提交作业的用户运行Oozie命令的语法如下：
```
oozie job -oozie http://<oozie address>:11000/oozie -config job.properties -doas <user> -run  
```
示例：
```shell
oozie job -oozie http://10.10.5.23:11000/oozie -config job.properties -doas zjimee -run
```