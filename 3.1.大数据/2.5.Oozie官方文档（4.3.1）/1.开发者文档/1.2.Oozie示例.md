Oozie示例
================================================================================
## 命令行示例

### 设置示例
Oozie示例捆绑在oozie-examples.tar.gz文件中的Oozie发行版中。解压此文件将在本地文件系统中创建
examples目录。**必须将examples目录复制到HDFS中的用户HOME目录**：
```shell 
$ hadoop fs -put examples examples
```
**注意**：如果HDFS中已存在examples目录，则必须先将其删除，然后再将其复制。否则可能无法复制文件。

### 运行示例
对于Streaming和Pig示例，[Oozie共享库](http://oozie.apache.org/docs/4.3.1/DG_QuickStart.html#OozieShareLib)
必须安装在HDFS中。

将Oozie `bin/`添加到环境PATH。

示例假设JobTracker是`localhost：8021`，NameNode是`hdfs://localhost:8020`。如果实际值不
同，则必须将examples目录中的 **作业属性文件** 编辑为正确的值。
*
示例应用程序位于`examples/app`目录下，每个示例一个目录。该目录包含应用程序 **XML文件**（工作
流，工作流和协调程序），用于提交作业的 **job.properties文件** 以及示例可能 **需要的任何JAR
文件**。

所有示例的输入都在 **examples/input-data/** 目录中。

这些示例在 **examples/output-data/${EXAMPLE_NAME}** 目录下创建输出。

**注意**：job.properties文件在提交期间需要是本地文件，而不是HDFS路径。

**如何运行示例应用程序**：
```shell
$ oozie job -oozie http://localhost:11000/oozie -config examples/apps/map-reduce/job.properties -run
.
job: 14-20090525161321-oozie-tucu
```
**检查工作流作业状态**：
```shell
$ oozie job -oozie http://localhost:11000/oozie -info 14-20090525161321-oozie-tucu
.
.----------------------------------------------------------------------------------------------------------------------------------------------------------------
Workflow Name :  map-reduce-wf
App Path      :  hdfs://localhost:8020/user/tucu/examples/apps/map-reduce
Status        :  SUCCEEDED
Run           :  0
User          :  tucu
Group         :  users
Created       :  2009-05-26 05:01 +0000
Started       :  2009-05-26 05:01 +0000
Ended         :  2009-05-26 05:01 +0000
Actions
.----------------------------------------------------------------------------------------------------------------------------------------------------------------
Action Name             Type        Status     Transition  External Id            External Status  Error Code    Start Time              End Time
.----------------------------------------------------------------------------------------------------------------------------------------------------------------
mr-node                 map-reduce  OK         end         job_200904281535_0254  SUCCEEDED        -             2009-05-26 05:01 +0000  2009-05-26 05:01 +0000
.----------------------------------------------------------------------------------------------------------------------------------------------------------------
```