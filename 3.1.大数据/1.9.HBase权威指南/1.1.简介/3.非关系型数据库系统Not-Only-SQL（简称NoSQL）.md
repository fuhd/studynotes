非关系型数据库系统Not-Only-SQL（简称NoSQL）
================================================================================
**NoSQL** 是`Eric Evans`针对`Johan Oskarsson`提出的“为新兴的新数据存储空间命名”问题而创建
的一个名词。正是因为这类新产品还没有合适的名称，NoSQL一举成名。

**标示符号化** 实际上是一个不错的选择：**最新的存储系统不提供通过SQL查询数据的手段，只提供一些
比较简单的、类似于API接口的方式来存取数据**。

但是，**也有一些工具为NoSQL数据存储提供了SQL语言的入口**，用于执行一些关系数据库中常用的复杂条
件查询。因此，**从查询方式上的限制来说，关系型数据库和非关系型数据库并没有严格的区分**。

**实际上两者在底层上是有区别的，尤其涉及到模式或者ACID事务特性时，因为这与实际的存储架构是相关
的**。很多这一类的新系统首先做的事情是：**抛弃一些限制因素以提升扩展性**。例如，它们 **通常不支
持事务或辅助索引**。更重要的是，这一类系统是没有固定模式的，可以随着应用的改变而灵活变化。

各种非关系型数据库有许多共同的特性，同时这其中的许多特性与传统的存储方案也有很多共同点。因此新系
统并不是革命性的产品，从工程的角度来看更像是产品的进化。

假使连Memcached这样的项目都划入到NoSQL范畴的话，那就成了只要不是RDBMS就可以认为是NoSQL。这个
说法导致了错误的二分法，二分法掩盖了这些系统提供的令人振奋的技术可行性。在NoSQL范畴内，还有很多
的维度可以区分系统的特定优势所在。

```
一致性模型

在这本书里，我们经常会提到一致性问题，所以有必要在这里对它稍加介绍。一开始的一致性是保证数据库客户端操作的正确性，数据库必
须保证每一步操作都是从一个一致的状态到下一个一致的状态。系统没有明确地指定如何实现这个功能，以便系统可以有多种选择。最终，
系统要选择是进入下一个一致的状态，还是回退到上一个一致的状态，从而保证一致性。

一致性可以按照严格程度由强到弱分类，或者是按照对客户端的保证程度分类，下面是一个非正式的分类列表：
- 严格一致性：数据的变化是原子的，一经改变即时生效，这是一致性的最高形式。
- 顺序一致性：每个客户端看到的数据依照它们操作执行的顺序而变化。
- 因果一致性：客户端以因果关系顺序观察到数据的改变。
- 最终一致性：在没有更新数据的一段时间里，系统将通过广播保证副本之间的数据一致性。
- 弱一致性：没有做出保证的情况下，所有的更新会通过广播的形式传递，展现给不同客户端的数据顺序可能不一样。

采用最终一致性策略的系统还可以细分为几个子类，并且这些子策略还可以共存。亚马逊的首席技术官Werner Vogels在一篇名为
“Eventually Consistent”的文章中列举了这几个子类。这篇文章还谈到了CAP定理（CAP theorem），其中指出，一个分布式系统
只能同时实现一致性、可用性和分区容忍性（或分区容错性）中的两个。CAP定理是热点话题，不过它不是区分分布式系统的唯一方法，但
CAP定理指出了，开发一套同时满足以上需求的分布式系统是比较困难的。例如，Vogels提到：

"在一系列的研究结果里发现，在较大型分布式系统中，由于网络分隔，一致性与可用性不能同时满足。这意味着三个要素最多只能同时实
现两人个，不可能三者兼顾；放宽一致性的要求会提升系统的可用性......提升一致性意味着系统需要牺牲一定的可用性。"

放宽一致性来提高系统可用性是一个非常有效的提议。不过这种方案会强制让应用层去解决一致性的问题，因此也会增加系统的复杂度。 
```





































dd
