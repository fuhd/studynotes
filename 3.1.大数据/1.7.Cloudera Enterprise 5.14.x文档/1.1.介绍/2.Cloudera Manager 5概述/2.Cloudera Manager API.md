Cloudera Manager API
================================================================================
Cloudera Manager API提供配置和服务生命周期管理，服务健康信息和指标，并允许您自行配置Cloudera Manager。
该API与Cloudera Manager管理控制台在相同的主机和端口上提供，并且不需要额外的进程或额外的配置。该API支持
HTTP基本身份验证，接受与Cloudera Manager管理控制台相同的用户和凭据。

## 1.资源
+ [快速开始](http://cloudera.github.io/cm_api/docs/quick-start/)
+ [Cloudera Manager API教程](http://cloudera.github.io/cm_api/apidocs/v19/tutorial.html)
+ [Cloudera Manager API文档](http://cloudera.github.io/cm_api/apidocs/v19/)
+ [Python客户端](http://cloudera.github.io/cm_api/docs/python-client/)
+ [使用Cloudera Manager API进行群集自动化](https://www.cloudera.com/documentation/enterprise/latest/topics/cm_intro_automation_api.html#xd_583c10bfdbd326ba--7f25092b-13fba2465e5--7f17)

## 2.获取配置文件
1. 获取服务角色的列表：
```
http://cm_server_host:7180/api/v19/clusters/clusterName/services/serviceName/roles
```
2. 获取进程正在使用的配置文件的列表：
```
http://cm_server_host:7180/api/v19/clusters/clusterName/services/serviceName/roles/roleName/process
```
3. 获取任何特定文件的内容：
```
http://cm_server_host:7180/api/v19/clusters/clusterName/services/serviceName/roles/roleName/process/configFiles/configFileName
```
例如：
```
http://cm_server_host:7180/api/v19/clusters/Cluster%201/services/OOZIE-1/roles/OOZIE-1-OOZIE_SERVER-e121641328fcb107999f2b5fd856880d/process/configFiles/oozie-site.xml
```

## 3.检索服务和主机属性
要使用Cloudera Manager API更新服务属性，您需要知道属性的名称，而不仅仅是显示名称。如果您知道属性的显示名称，
但不知道属性名称，请通过向URL中添加查询字符串 view=FULL 请求任何配置对象来检索文档。例如：
```
http://cm_server_host:7180/api/v19/clusters/Cluster%201/services/service_name/config?view=FULL
```
搜索结果以获取所需属性的显示名称。例如，搜索显示名称HDFS服务环境高级配置代码段（安全阀），显示相应的属性名称为
hdfs_service_env_safety_valve：
```json
{
   "name" : "hdfs_service_env_safety_valve",
   "require" : false,
   "displayName" : "HDFS Service Environment Advanced Configuration Snippet (Safety Valve)",
   "description" : "For advanced use onlyu, key/value pairs (one on each line) to be inserted into a roles
   environment. Applies to configurations of all roles in this service except client configuration.",
   "relatedName" : "",
   "validationState" : "OK"
}
```



































ddd
