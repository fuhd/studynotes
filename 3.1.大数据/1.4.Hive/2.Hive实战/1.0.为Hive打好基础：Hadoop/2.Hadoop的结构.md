Hadoop的结构
===================================================================================
Hadoop通常包含两个部分：**存储** 和 **处理**。存储部分就是Hadoop分布式文件系统（**HDFS**），处
理就是指 **MapReduce（MR）**。
```
注意

在本书完成之际（本书中文版出版于2018/11），这一环境正在改变。MapReduce现在只是在HDFS之上处理Hive的一种方式。
MapReduce是一种传统的面向批量任务的处理框架。像Tez这样的新处理引擎越来越倾向于近实时的查询访问。随着YARN的出现，HDFS正
日益成为一个多租户环境，允许很多数据访问模式，例如批量访问、实时访问和交互访问。
```
当我们考虑到常规文件系统的时候，会想到像Windows或Linux这样的操作系统。这些操作系统都安装在运行重
要应用程序的单台计算机上。如果我们通过网络将50台计算机连接到一起，会发生什么呢？我们仍然有50个不同
的操作系统，如果我们想要运行单个应用程序来使用它们所有的计算能力和资源，这种方式对我们没有多少帮助。

HDFS则做了一些独特的事情。你可以选取50台计算机并且在每一台上都安装一个操作系统（如Linux）。在用网
络将它们连接起来之后，**你在所有计算机上都安装HDFS，并且将其中一台计算机声明为主节点，将其他所有计
算机都声明为工作节点。这样你就构建了HDFS集群。现在，当你将文件复制到某个文件夹中时，HDFS会自动将
文件的各个部分存放在集群的多个节点上。HDFS成为Linux文件系统之上的一个虚拟文件系统，它抽象了你在集
群的多个节点上存储数据的事实**。

最重要的一点是，**现在的增长能力是水平的而不是垂直的**。与为单台设备添加CPU或RAM不同，你只需要增
加一台设备。

敏锐的读者很快就会争辩说，通过 **虚拟化**也可以获得类似的优势。

管理员在服务器（大多数情况下是一个服务器集群）上安装虚拟管理软件。该软件集中了CPU和内存这样的资源，
这样看起来就像有一台有着大量资源的服务器。在虚拟操作系统层上有多个客户，可以将可用的资源划分给每个
客户使用。这样做的好处包括：IO资源的最大化、资源的动态供应，以及物理集群层的高可用性。**存在的问题
则包括：对SAN存储器的依赖、不能进行水平扩展、垂直扩展存在限制，以及对多操作系统安装存在依赖等。目
前大多数数据中心都采用这种模式，而且在过去10多年里，虚拟化一直是IT界的主流趋势**。
```
注意

我们给出虚拟化的架构只是为了说明Hadoop如何从根本上改变了数据中心的模式，以满足独特的现代数据需求。对于很多用例来说，私有
云虚拟化仍然是一种可行的技术，而且应该与其他架构（如设备或公有云）放在一起考虑。
```
**Hadoop的其他优势还包括降低能源消耗以及减少物理服务器的占用和动态供应**。Hadoop需要与保持了长
达10多年的发展趋势的虚拟化架构相抗衡，这是一项艰难的任务。企业这些年来一直都在远离物理架构，在减少
数据中心的物理服务器上取得了很大进展。