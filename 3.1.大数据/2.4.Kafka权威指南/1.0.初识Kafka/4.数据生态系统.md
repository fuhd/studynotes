数据生态系统
================================================================================
**Kafka为数据生态系统带来了循环系统**，如下图所示。它在基础设施的各个组件之间传递消息，为所有客
户端 提供一致的接口。当与提供消息模式的系统集成时，**生产者和消费者之间不再有紧密的耦合**，也不
需要在它们之间建立任何类型的直连。我们可以根据业务需要添加或移除组件，因为生产者不再关心谁在使用
数据，也不关心有多少个消费者。

![数据生态系统](img/5.jpeg)

## 使用场景

### 1.活动跟踪
**Kafka最初的使用场景是跟踪用户的活动**。网站用户与前端应用程序发生交互，前端应用程序生成用户活
动相关的消息。这些消息可以是一些静态的信息，比如页面访问次数和点击量，也可以是一些复杂的操作，比
如添加用户资料。这些消息被发布到一个或多个主题上，由后端应用程序负责读取。这样，我们就可以生成报
告，为机器学习系统提供数据，更新搜索结果，或者实现其他更多的功能。

### 2.传递消息 
**Kafka的另一个基本用途是传递消息**。应用程序向用户发送通知（比如邮件）就是通过传递消息来实现的。
这些应用程序组件可以生成消息，而不需要关心消息的格式，也不需要关心消息是如何被发送的。一个公共应
用程序会读取这些消息，对它们进行处理：
+ 格式化消息（也就是听谓的装饰）。
+ 将多个消息放在同一个通知里发送。
+ 根据用户配置的首选项来发送数据。 

使用公共组件的好处在于，不需要在多个应用程序上开发重复的功能，而且可以在公共组件上做一些有趣的转
换，比如把多个消息聚合成一个单独的通知，而这些工作是无法在其他地方完成的。

### 3.度量指标和日志记录
**Kafka也可以用于收集应用程序和系统度量指标以及日志**。Kafka支持多个生产者的特性在这个时候就可
以派上用场。应用程序定期把度量指标发布到Kafka主题上，监控系统或告警系统读取这些消息。**Kafka也
可以用在像Hadoop这样的离线系统上，进行较长时间片段的数据分析**，比如年度增长走势预测。日志消息
也可以被发布到Kafka主题上，然后被路由到专门的日志搜索系统（比如Elasticsearch）或安全分析应用
程序。更改目标系统（比如日志存储系统）不会影响到前端应用或聚合方法，这是Kafka的另一个优点。


