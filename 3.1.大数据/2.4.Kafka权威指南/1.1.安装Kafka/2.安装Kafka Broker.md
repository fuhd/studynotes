安装Kafka Broker
===================================================================================
配置好Java和Zookeeper之后，接下来就可以安装Kafka了。可以从 http://kafka.apache.org/downloads 下载
最新版的Kafka。当前最新版本为：**2.2.0**（2019/05/12），对应的Scala版本有：`scala2.11`与`scala2.12`。
我们下载支持scala2.12的二进制版本：**kafka_2.12-2.2.0.tgz**。

将Kafka安装在`/usr/local/kafka`目录下，使用之前配置好的Zookeeper，并把消息日志保存在`/tmp/kafka-logs`
目录下。
```shell
tar -xzvf kafka_2.12-2.2.0.tgz
mv kafka_2.12-2.2.0 /usr/local/kafka
mkdir /tmp/kafka-logs
/usr/local/kafka/bin/kafka-server-start.sh -daemon /usr/local/kafka/config/server.properties
```
一旦Kafka创建完毕，就可以对这个集群做一些简单的操作来 **验证它是否安装正确**，比如创建一个测试主题，
发布一些消息，然后读取它们。

## 创建并验证主题
```shell
/usr/local/kafka/bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic test

Created topic test.
```
```shell
/usr/local/kafka/bin/kafka-topics.sh --zookeeper localhost:2181 --describe --topic test

Topic:test	PartitionCount:1	ReplicationFactor:1	Configs:
	Topic: test	Partition: 0	Leader: 0	Replicas: 0	Isr: 0
```

## 往测试主题上发布消息
```shell
/usr/local/kafka/bin/kafka-console-producer.sh --broker-list localhost:9092 --topic test

>Test Message 1
>Test Message 2
^D #ctrl+d 退出
```

## 从测试主题上读取消息
```shell
#书上的命令有错误！！！！
/usr/local/kafka/bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test --from-beginning

Test Message 1
Test Message 2
^C #ctrl+c 退出
```