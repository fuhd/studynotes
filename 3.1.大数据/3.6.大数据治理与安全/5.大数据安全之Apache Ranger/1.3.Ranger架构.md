Ranger架构
===================================================================================
下图是Ranger安全认证机制的整体框架，主要包括`Ranger Admin`、`Ranger Plugin`和`Ranger Usersync`
三部分。

![Ranger架构](img/1.png)

## 1.Ranger Admin
**Ranger Admin是安全管理的核心接口，也是Ranger框架的管理中心**。用户可以在它提供的Web UI上管理
系统用户权限，创建和更新权限认证策略，然后将这些策略存储在数据库中。**每个组件的插件会定期监测这些
策略**。它还提供一个审计服务，**可以收集存储在HDFS或者关系数据库中的数据并进行审计**。

## 2.Ranger Plugin
**Ranger Plugin是权限安全管理的核心，它是一个轻量级的可以嵌入各个集群组件中的Java程序**。例如，
Ranger对于其高度支持的Hive，提供一个可以嵌入Hive Server2服务中的插件，**这个插件能从Ranger Admin
中提取到关于Hive的所有权限认证策略，并将这些策略存储在本地文件中**。当用户请求通过Hive组件时，这些
插件会拦截请求，**并安装认证策略进行评估**，确认其是否符合设置的安全策略。同时，**这个插件还能从用
户请求中收集数据，并创建一个单独的线程，将数据传输到审计服务器中**。需要注意的是，**Ranger对其组件
的版本要求比较高，如Hadoop必须是2.7.0以上版本，才能支持Ranger**。

## 3.Ranger Usersync
**Ranger Usersync** 是一个非常重要的工具，**它用于将用户/组从UNIX系统或LDAP同步到Ranger Admin**。
此独立进程也 **可以用作Ranger Admin的身份验证服务器**，以使用Linux用户/密码登录到Ranger Admin。
**用户或组信息存储在Ranger Admin中，用于策略定义**。而且用户可以手动增加、删除、修改用户或用户组
信息，以便对这些用户或用户组设置权限。







