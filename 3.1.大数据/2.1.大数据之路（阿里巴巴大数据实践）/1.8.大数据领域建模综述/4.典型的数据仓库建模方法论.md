典型的数据仓库建模方法论
================================================================================
## 1.ER模型
**数据仓库之父** `Bill Inmon`提出的建模方法是 **从全企业的高度设计一个3NF模型，用实体关系（ER）
模型描述企业业务，在范式理论上符合3NF。数据仓库中的3NF与OLTP系统中的3NF的区别在于，它是站在企业
角度面向主题的抽象，而不是针对某个具体业务流程的实体对象关系的抽象**。其具有以下几个特点：
+ 需要全面了解企业业务和数据。
+ 实施周期非常长。
+ 对建模人员的能力要求非常高。

采用 **ER模型** 建设数据仓库模型的出发点是 **整合数据**。将各个系统中的数据以 **整个企业角度按
主题进行相似性组合和合并，并进行一致性处理**，为数据分析决策服务，但是 **并不能直接用于分析决策**。

其建模步骤分为三个阶段：
+ **高层模型**：一个高度抽象的模型，描述主要的主题以及主题间的关系，用于描述企业的业务总体概述。
+ **中层模型**：在高层模型的基础上，细化主题的数据项。
+ **物理模型**：在中层模型的基础上，考虑物理存储，同时基于性能和平台特点进行物理属性的设计，也可
能做一些表的合并、分区的设计等。

**ER模型** 在实践中最典型的代表是 **Teradata公司基于金融业务发布的FS-LDM**（Financal 
Services Logical Data Model），**它通过对金融业务的高度抽象和总结，将金融业务划分为10大主题，
并以设计面向金融仓库模型的核心为基础**，企业基于此模型做适当调整和扩展就能快速落地实施。

## 2.维度模型
**维度模型** 是数据仓库领域的Ralph Kimball大师所倡导的，他的`The Data Warehouse Toolkit-the
complete Guide to Dimensional Modeling`是 **数据仓库工程领域最流行的数据仓库建模的经典**。

**维度建模从分析决策的需求出发构建模型,为分析需求服务**,因此它 **重点关注用户如何更快速地完成需
求分析，同时具有较好的大规模复杂查询的响应性能**。其典型的代表是 **星形模型**，以及在一些特殊场
景下使用的 **雪花模型**。其设计分为以下几个步骤。
+ **选择需要进行分析决策的业务过程**。业务过程可以是单个业务事件，比如交易的支付、退款等；**也可
以是某个事件的状态**，比如当前的账户余额等；**还可以是一系列相关业务事件组成的业务流程**，具体需
要看我们分析的是某些事件发生情况，还是当前状态，或是事件流转效率。
+ **选择粒度**。在事件分析中，我们要 **预判所有分析需要细分的程度**，从而决定选择的粒度。**粒度
是维度的一个组合**。
+ **识别维表**。选择好粒度之后，就需要 **基于此粒度设计维表，包括维度属性**，用于分析时进行分组
和筛选。
+ **选择事实**。确定分析 **需要衡量的指标**。

## 3.Data Vault模型

