数据交换产品
===================================================================================
从上文的介绍中可以了解到，这些工具都无法很好地满足企业复杂的数据交换场景。

**数据交换中心的首要目的是屏幕底层工具的复杂性，以可视化配置的方式提供给企业用户；其次需要考虑，为
了解决数据孤岛，需要满足异构存储、异构数据类型的交换需求；同时，还要考虑不同时效要求下的数据互通**。
因此，数据交换平台需要屏幕系统底层协议、传输安全、特性组件等信息，让开发人员在数据接入过程中无须关
注数据格式转换、数据路由、数据丢失等，只需要关注与业务本身的数据交换部分。

## 数据源管理
根据不同的使用场景，涉及的数据源会有很多种，大致可以分成：
+ **关系型数据库**：如Oracle、MySQL、SQL Server、Greenplum等。
+ **NoSQL存储**：如HBase、Redis、Elasticsearch、Cassandra、MongoDB、Neo4J等。
+ **网络及MQ**：如Kafka、HTTP等。
+ **文件系统**：如HDFS、FTP、OSS、CSV、TXT、Excel等。
+ **大数据相关**：如Hive、Impala、Kudu、MaxCompute、ADB、LibrA、ELK等。

## 离线数据交换
**离线数据交换是针对数据时效要求低、吞吐量大的场景，解决大规模数据的批量迁移问题，其实现原理是将不
同数据源的交换抽象为从源头数据源读取数据的读取插件，以及向目标端写入数据的写入插件**，理论上可以支
持任意类型数据源的数据交换工作。
+ **读取插件**：数据采集模块，负责采集数据源的数据，将数据发送给数据交换核心模块。
+ **写入插件**：数据写入模块，不断从数据交换核心模块取数据，并将数据写入到目的端。
+ **数据交换核心模块**：用于连接读取插件和写入插件，作为两者的数据传输通道，并处理缓冲、流控、并发、
数据转换等核心技术问题。

**离线数据同步技术具有以下亮点**：
1. **前置稽核**：在源端数据同步开始前，可以进行 **数据质量规则校验**，根据配置规则的阻塞、告警等策略
控制数据同步是否运行。
2. **数据转换**：数据转换是指将各类 **非标准数据** 转换成 **标准数据** 格式，并且将转换后的数据推送到
大数据平台指定的位置或库表。
3. **跨集群数据同步**：由于采用插件化的设计思路，数据同步模块可支持不同集群间的数据同步。例如，从A
集群上把数据同步到B集群上，只需要开发A集群的Reader和B集群的Writer，便可以新建数据同步作业对数据进
行跨集群迁移。
4. **全量同步**：全量同步分为 **表全量同步** 和 **库全量同步**（整库同步）两种方式。表全量同步每次读
取表中全量数据并写入；库全量同步策略是把库中所有表进行数据同步，要求源端和目的端的表名称、结构相同，
允许目标表不存在，不存在时自动创建目标表。
5. **增量同步**：增量同步分为 **新增、覆盖和更新三种策略**。新增策略主要通过在目的端 **创建新分区**或
者 **直接追加写数据** 实现。覆盖和更新策略在同步配置时 **选择唯一键**，根据唯一键对比同步中的数据和目
的端数据，结合增量策略来判断数据是覆盖还是更新。

## 实时数据交换
实时数据交换主要负责把 **数据库、日志、爬虫等** 数据实时接入 **Kafka、Hive、Oracle等** 存储中，便于
后续进行实时计算或供业务查询分析使用。

实时同步有两个核心服务：**数据订阅服务**（`Client Server`）、**数据消费服务**（`Consumer Server`）。

**数据订阅服务** 主要包含数据的订阅和读取、任务实例的启停控制等功能，Client Server采用 **插件式设计思
路**，可以支持扩展不同类型的数据访问读取。

**数据消费服务** 主要包含任务状态控制、数据解析、数据过滤、数据转换、数据写入等功能，**通过TCP通信
方式和数据订阅方式** 进行数据读取和传输，数据消费服务也采用 **插件式设计思路**，可以支持目的端扩展不
同类型的数据源写入。







