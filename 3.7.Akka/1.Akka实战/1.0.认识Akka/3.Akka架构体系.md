Akka架构体系
================================================================================
**Actor模型** 最早在 **1973年** 由Carl Hewitt提出，**它高度抽象了分布式并行程序的运行模式**，
从底层屏蔽了线程和锁机制的管理，为开发者提供了简单可依赖的开发方式。

**Actor模型认为，并行计算的最小单元就是一个Actor实例，而每个实例拥有自己的状态和行为**。在一个大
型系统中，可能存在成千上万个Actor实例，**它们之间通过消息的方式进行通信，每个Actor都能发送消息给
其它Actor，也能从其他Actor接收消息**。当我们在执行某个计算任务时，由于整体消息通信的过程是 **异步**
的，所以不用等到Actor执行完整个过程就能执行下一步（发送消息后马上返回），这种异步通信的方式大大提
高了程序的响应性。

## 体系结构
Actor是Akka最核心的概念，也是最基本的执行单元，所以对Actor **管理** 和 **监控** 的有效性是极为
重要的。**在Akka中，每个Actor都有自己的监管对象，即该Actor的创建者，它们通常会负责子Actor的失
败处理**，另外，**某些Actor也需要对生命周期进行监控，以便及时响应并做正确处理，这些监督和监控本身
也都是一个Actor**。在Akka中，整个Actor体系被抽象成一个 **ActorSystem**，它是一个 **层级的结构**，
拥有公共行为的配置和管理。

在ActorSystem基础上，Akka也提供了一些配套的组件，比如 **持久化、HTTP服务、网络服务** 等，它们
都是构建 **高可用分布式应用** 不可或缺的部分。

### 1.Actor组件
在Akka中，**Actor是一个高度抽象的对象引用**，它包含以下几个要素：
+ **引用（Actor Reference）**：Actor的引用不同于普通对象的引用，也 **不能通过传统“new”的方式
直接创建一个Actor对象**。很多时候需要通过`actorOf`或者`actorSelection`等方式返回一个ActorRef
对象，该对象有可能存在于本地，也可能存在于远程节点，对我们来说，**它是位置透明的**。Actor之间的通
信和执行任务都是 **通过消息驱动的**（而不是API的调用）。
+ **状态（State）**：Actor在不同时刻可能有着不同的状态，这些 **状态用变量来表示**。在底层实现上，
**Actor是运行于线程池之上的**，肯定会存在 **多个Actor共享同一个线程的情况**，那么会不会出现并发
问题呢？实际上，**Akka为每个Actor都抽象出一个轻量级的执行“线程”（不是真的线程），在底层已经实现了
隔离**，所以基本上不同担心该问题的出现。另外，当JVM崩溃时，**为了避免Actor状态的丢失，我们可以借助
持久化方案来对状态进行持久化操作**。
+ **行为（Behavior）**：Actor有接收和发送消息的能力，每当它接收一条消息后，就可以执行某个业务操
作，同时也可以把消息转发到其他节点进行处理。
+ **监管策略（Supervisor Strategy）**：Actor系统是一个层级结构，当任务被某个Actor分摊到子Actor
时，父Actor就拥有监管子Actor的义务。在监管时，我们需要根据不同的情况选择不同的处理方案（比如停止、
重启、恢复或者失败上溯）和策略（比如1 vs 1、1 vs N策略）。


### 2.邮箱（Mailbox）
**每个Actor都有自己的邮箱，所有其他Actor发送过来的消息都会进入该邮箱。Akka自带多种邮箱类型，也提
供自定义邮箱的接口**。

### 3.路由（Routing）
消息除了通过普通的Actor发送之外，**也可以通过路由发送**。当通过路由发送消息时，**我们可以根据需求来
选择不同的路由策略，比如轮询、广播等。路由也可以是一个Actor**。

### 4.状态持久化（Persistence）
任何程序都有失败的可能，即便是JVM如此强大稳定的平台也一样。当程序出错、JVM崩溃时，任何关键状态的丢失，
对我们后续的业务来讲都可能是致命的打击，所以状态数据的持久化变得非常重要。Akka提供了Actor状态的持久化
方案，以便我们在必要时恢复数据。

### 5.网络（远程和分布式集群）
**网络功能是实现远程Actor和分布式集群的基础**，这其中包含I/O、网络通信（TCP/UDP）序列化配置、分布
式通信协议（Gossip）、节点（Node）管理、集群分片等内容。

### 6.HTTP模块
Akka提供了简单易用的HTTP模块，支持完整的HTTP服务端与客户端开发，可以帮助我们快速构建性能极强的Rest
web服务。
