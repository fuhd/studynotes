使用sbt控制台
===================================================================================
**您可以使用sbt管理Play应用程序的完整开发周期**。 sbt工具具有 **交互模式**，或者您 **可以一次输入一
个命令**。 **交互模式可以随着时间的推移更快，因为sbt只需要启动一次**。 当您一次输入一个命令时，sbt会
在每次运行时重新启动。

## 1.单个命令
您可以直接运行单个sbt命令。例如，要构建并运行Play，请切换到项目目录并运行：
```shell
sbt run
```
你会看到类似的东西：
```
[info] Loading settings for project play-scala-demo-build from plugins.sbt ...
[info] Loading project definition from /home/fuhd/work/workspace/play-scala/play-scala-demo/project
[info] Loading settings for project root from build.sbt ...
[info] Set current project to play-scala-demo (in build file:/home/fuhd/work/workspace/play-scala/play-scala-demo/)

--- (Running the application, auto-reloading is enabled) ---

[info] p.c.s.AkkaHttpServer - Listening for HTTP on /0:0:0:0:0:0:0:0:9000

(Server started, use Enter to stop and go back to the console...)

[info] p.a.h.EnabledFilters - Enabled Filters (see <https://www.playframework.com/documentation/latest/Filters>):

    play.filters.csrf.CSRFFilter
    play.filters.headers.SecurityHeadersFilter
    play.filters.hosts.AllowedHostsFilter

[info] play.api.Play - Application started (Dev) (no global state)
```

## 2.交互模式
要以交互模式启动sbt，请切换到 **项目的根目录** 并输入 **不带参数** 的sbt：
```shell
$ cd play-scala-demo/
$  sbt
```
你会看到类似的东西：
```
[info] Loading settings for project play-scala-demo-build from plugins.sbt ...
[info] Loading project definition from /home/fuhd/work/workspace/play-scala/play-scala-demo/project
[info] Loading settings for project root from build.sbt ...
[info] Set current project to play-scala-demo (in build file:/home/fuhd/work/workspace/play-scala/play-scala-demo/)
[info] sbt server started at local:///home/fuhd/.sbt/1.0/server/f3ad20f6740829c2ed18/sock
[play-scala-demo] $
```

## 3.开发模式
**在此模式下，sbt启动Play并启用自动重新加载功能。当您发出请求时，如果任何文件发生更改，Play将自动重
新编译并重新启动服务器。如果需要，应用程序将自动重启**。

在sbt处于交互模式时，在开发模式下运行当前应用程序，使用run命令：
```shell
[play-scala-demo] $ run
```
你会看到类似的东西：
```
[play-scala-demo] $ run

--- (Running the application, auto-reloading is enabled) ---

[info] p.c.s.AkkaHttpServer - Listening for HTTP on /0:0:0:0:0:0:0:0:9000

(Server started, use Enter to stop and go back to the console...)

[info] p.a.h.EnabledFilters - Enabled Filters (see <https://www.playframework.com/documentation/latest/Filters>):

    play.filters.csrf.CSRFFilter
    play.filters.headers.SecurityHeadersFilter
    play.filters.hosts.AllowedHostsFilter

[info] play.api.Play - Application started (Dev) (no global state)
```

## 4.仅编译
您也可以在不运行HTTP服务器的情况下编译应用程序。`compile`命令在命令窗口中显示任何应用程序错误。
例如，在交互模式下，输入：
```shell
[play-scala-demo] $ compile
```
你会看到如下内容：
```
......
[info] Fetched artifacts of 
[success] Total time: 580 s (09:40), completed 2019-9-15 15:16:58
```

## 5.测试选项
您无需运行服务器即可运行测试。例如，在交互模式下，使用该test命令：
```shell
sbt:play-scala> test
```
这些test命令将运行项目中的 **所有测试**。您还可以 **使用testOnly选择特定测试**：
```shell
sbt:play-scala> testOnly com.acme.SomeClassTest
```

## 6.启动交互式控制台
键入`console`以进入交互式Scala控制台，该控制台允许您以交互方式测试代码：
```shell
sbt:play-scala> console
```
显示：
```
......
<pre>[info] Non-compiled module &apos;compiler-bridge_2.12&apos; for Scala 2.12.8. Compiling...
[info]   Compilation completed in 7.594s.
[info] Starting scala interpreter...
Welcome to Scala 2.12.8 (Java HotSpot(TM) 64-Bit Server VM, Java 1.8.0_211).
Type in expressions for evaluation. Or try :help.

scala> 
```

## 7.调试
启动控制台时，您可以要求Play启动 **JPDA调试端口**。然后，您可以使用 **Java调试器** 进行连接。使用
`sbt -jvm-debug <port>`命令执行此操作：
```shell
$ sbt -jvm-debug 9999
```
当JPDA端口可用时，JVM将在引导期间记录此行：
```
Listening for transport dt_socket at address: 9999
```