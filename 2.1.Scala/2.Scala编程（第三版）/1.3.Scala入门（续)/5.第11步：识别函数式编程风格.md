第11步：识别函数式编程风格
================================================================================
Scala允许采用指令式编程，**但鼓励采用函数式编程风格**。如果你之前的编程背景是指令式的（比方说你是
个Java程序员）那么当你学习Scala时的一个主要挑战是搞明白如何使用函数式风格编程。

首先是从代码层而识别出两种风格的差异。一个显著的标志是 **如果代码包含任何var变量，它通常是指令式风
格的；而如果代码完全没有var（也就是说代码只包含val），那么它很可能是函数式的**。因此，一个向函数式
风格转变的方向是 **尽可能不用var**。

在Scala看来，val和var不过是你的工具箱中两种不同的工具，都有相应的用途，**没有哪一个本质上是邪恶的。
Scala鼓励你更偏向于使用val，但最终要根据手里的工作选择最适用的工具**。

如下这个`while`循环的例子，使用`var`因此是指令式风格的：
```scala
def printArgs(args: Array[String]): Unit = {
    var i = 0
    while(i < args.length) {
        println(args(i))
        i += 1
    }
}
```
这段代码 **转换成函数式风格，去掉var**，就像这样：
```scala
def printArgs(args: Array[String]): Unit = {
    for(arg <- args)
        println(arg)
}
```
或者这样：
```scala
def printArgs(args: Array[String]): Unit = {
    args.foreach(println)
}
```
这个例子展示了编程中使用更少的var的好处。经过重构的（更函数式的）代码，跟原始的（更指令式的）代码
相比，更清晰、更精简，也更少出错。

不过你可以走得更远。**重构后的printArgs方法并不是“纯”的函数式代码，因为它有副作用（本例中的副作用
是向标准输出流打印）。带有副作用的函数的标志性特征是结果类型为Unit。如果一个函数并不返回任何有意义
的值，也就是Unit这样的结果类型所表达的意思，那么这个函数存在于世上唯一的意义就是产生某种副作用**。
函数式编程的做法是定义一个将传入的args格式化（用于打印）的方法，但只是返回这个格式化的字符串，示例：
```scala
def formatArgs(args: Array[String]) = args.mkString("\n")
```
现在你真的实现了函数式编程：**没有副作用，也没有var**。mkString方法可以被用于任何可被迭代访问的集合（
包括数组、列表、集和映射），返回一个包含了对所有元素调用toString的结果的字符串，以传入的字符串分隔。
当然，这个函数实际上并不像printArgs那样打印出任何东西，但是可以很容易地将它的结果传给println来达到
这个目的：
```

```










































ddd
