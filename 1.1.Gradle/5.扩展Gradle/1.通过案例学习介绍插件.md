通过案例学习介绍插件
==========================
Gradle提供了多种不同的方法来重用一个非常有用的task共享到多个项目中使用。Gradle提供了多种不同的方法
来重用代码，但每种方法都有各自的优缺点。插件让重用和扩展的概念起得更远。它们通过引入某个特定的问题领域
的约定和模式为项目添加新的能力。下面我们通过创建管理CloudBees的Gradle插件来学习编写Gradle插件。

### 在云中使用Gradle管理应用
手动地部署应用到服务器是一个重复而且易犯错的任务。幸运的是，许多PaaS服务商都提供了API，可以编程式管理
他们的平台服务和资源。在Gradle的帮助下，你可以自动地部署应用到远程容器，让它成为项目构建生命周期中的一部
分。每个web应用程序都需要在开发过程中的某个点在运行时环境中启动，这样以可重用方式编写代码才变得有意义。
遗憾的是，你找不到一个实现了该功能的Gradle核心插件，所以你需要自己去实现。这是练习构建工具扩展机制的
好机会。在开始编写代码之前，让我们来选择一个满足需要的PaaS提供商。

在过去的几年里，许多JVM PaaS提供商都迅速发展起来。有些供应商提供了某种编程模型需要你去遵从他们指定的
软件栈和API，例如一个专有的数据存储实现。你不想把自己困在里面，因为你希望以后能够将web应用转移到一个
不同的服务器环境中。你可以使用CloudBees的RUN服务，也叫作RUN@Cloud，一个基础设施不可知的部署平台和应
用运行时环境。CloudBees提供了一个基于Java的客户端类库，可以通过HTTP与运行时服务通信。在Gradle脚本
中使用该类库非常直接：将它定义为一个classpath的依赖，然后写task使用该API即可。

CloudBees API提供了一个基于HTTP的编程接口来管理在RUN@cloud平台上的服务和应用。但是如果你的同事也想
要在他们的项目中使用相同的task，该怎么办？为了避免催促就简单地复制代码？？正确的方式是将代码格式化成
Gradle插件。

### 设置云环境
在通过API与CloudBees的PaaS交互之前，你需要准备一个账号。
#### 注册一个CloudBees帐号
这里省略了！！！
#### 设置API密钥
每个对CloudBees API的请求都需要调用者提供一个API密钥和一个私钥。这个API密钥对于每个帐户都是唯一的，
可以明确地确认API的调用者。私钥是为了安全地向CloudBees服务发送HTTP的Web请求。CloudBees也有这两个
key，保存它们的一个好办法是存在`gradle.properties`文件中。你应该避免将它们提交到版本控制中。如果公开
这个文件，就等于自动将访问帐号的权限赋予给所有可以访问你的源代码的用户。你可以将该文件放在$HOME/.gradle
目录中（Linix或unix）或者放在项目的根目录下，与build.gradle放一起。示例，gradle.properties文件的
内容：
```ini
cloudbeesApiKey = Your-CloudBees-API-Key
cloudbeesApiSecret = Your-CloudBees-API-secret
```
设置好CloudBees帐号和提供应用是非常简单的。接下来，我们将讨论如何一步步构建这个插件。
