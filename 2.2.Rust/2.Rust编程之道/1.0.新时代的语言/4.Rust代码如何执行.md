Rust代码如何执行
================================================================================
**Rust是跨平台语言，一次编译，到处运行，这得益于LLVM。Rust编译器是一个LLVM编译前端，它将代码编
译为LLVM IR，然后经过LLVM编译为相应的平台目标**。

**Rust源码** 经过 **分词和解析，生成AST**（抽象语法树）。然后把AST进一步简化处理为 **HIR**
（Hight-level IR），**目的是让编译器更方便地做类型检查**。HIR会进一步被编译为 **MIR（Middle
IR），这是一种中间表示，它在Rust1.12版本中被引入，主要用于以下目的**。
+ **缩短编译时间**。MIR可以帮助 **实现增量编译**，当你修改完代码重新编译的时候，编译器只计算更
改过的部分，从而缩短了编译时间。
+ **缩短执行时间**。MIR可以 **在LLVM编译之前实现更细粒度的优化**，因为单纯依赖LLVM的优化粒度
太粗，而且Rust无法控制，引入MIR就增加了更多的优化空间。
+ **更精确的类型检查**。MIR将 **帮助实现更灵活的借用检查**，从而可以提升Rust的使用体验。

最终，**MIR会被翻译为LLVM IR，然后被LLVM处理编译为能在各个平台上运行的目标机器码**。
