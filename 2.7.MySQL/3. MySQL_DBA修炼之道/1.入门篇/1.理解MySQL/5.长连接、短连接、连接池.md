长连接、短连接、连接池
================================================================================
当数据库服务器和客户端位于不同的主机时，就需要建立网络连接来进行通信。客户端必须使用数据库连接来发
送命令和接收应答、数据。

## 1.短连接
**短连接是指程序和数据库通信时需要建立连接，执行操作后，连接关闭**。短连接简单来说就是每一次操作数
据库，都要打开和关闭数据库连接，基本步骤是：**连接 -> 数据传输 -> 关闭连接**。

## 2.长连接
**长连接是指程序之间的连接在建立之后，就一直打开，被后续程序重用。使用长连接的初衷是减少连接的开销**，
尽管MySQL的连接比其他数据库要快得多。

从客户端的角度来说，使用长连接有一个好处，可以不用每次创建新连接，**若客户端对MySQL服务器的连接请求
很频繁，永久连接将更加高效。对于高并发业务，如果可能会碰到连接的冲击，推荐使用长连接或连接池**。

从服务器的角度来看，情况则略有不同，它可以节省创建连接的开销，**但维持连接也是需要内存的**。如果滥用
长连接的话，可能会使用过多的MySQL服务器连接。**现代的操作系统可以拥有几千个MySQL连接**，但很有可能
绝大部分都是 **睡眠（sleep）状态** 的，这样的工作方式不够高效，**而且连接占据内存，也会导致内存的
浪费**。

对于扩展性好的站点来说，其实大部分的访问并不需要连接数据库。如果用户需要频繁访问数据库，那么可能会在流
量增大的时候产生性能问题，此时长短连接都是无法解决问题的，所以应该进行合理的设计和优化来避免性能问题。

**如果客户端和MySQL数据库之间有连接池或Proxy代理，一般在客户端推荐使用短连接**。

对于长连接的使用一定要慎重，不可滥用。如果没有每秒几百、上千的新连接请求，就不一定需要长连接，也无法
从长连接中得到太多好处。**在Java语言中，由于有连接池，如果控制得当，则不会对数据库有较大的冲击，但
PHP的长连接可能导致数据库的连接数超过限制，或者占用过多的内存**。

## 3.连接池
由于一些数据库创建和销毁连接的开销很大，或者相对于所执行的具体数据操作，连接所耗的资源过多，此时就可
能需要添加连接池来改进性能。

**数据库连接池是一些网络代理服务或应用服务器实现的特性**，如J2EE服务器，它实现了一个持久连接的“池”，
允许其他程序、客户端来连接，这个连接池将被所有连接的客户端共享使用，**连接池可以加速连接，也可以减少
数据库连接**，降低数据库服务器的负载。

## 4.持久连接和连接池的区别
**长连接是一些驱动、驱动框架、ORM工具的特性**，由驱动来保持连接句柄的打开，以便后续的数据库操作可以
重用连接，从而减少数据库的连接开销。**而连接池是应用服务器的组件**，它可以通过参数来配置连接数、连接
检测、连接的生命周期等。
