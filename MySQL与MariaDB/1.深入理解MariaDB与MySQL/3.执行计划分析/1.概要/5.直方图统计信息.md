直方图统计信息
=============================================
直方图也是一种统计信息，用于 **分析列值的分布情况**。MySQL5.6并不支持直方图，**只有MariaDB10.0支持**。

### 直方图
MariaDB10.0中，由索引建成的数据列以及未建索引的数据列都可以保存直方图信息。**数据表所有列的最小值与最大值，
以及拥有NULL值的记录比率，列值分布等都由直方图进行收集**，然后在mysql数据库的 **`column_stats`** 数据表中管理。
```sql
DESC mysql.column_stats;
```
显示：
```
+---------------+-----------------------------------------+------+-----+---------+-------+
| Field         | Type                                    | Null | Key | Default | Extra |
+---------------+-----------------------------------------+------+-----+---------+-------+
| db_name       | varchar(64)                             | NO   | PRI | NULL    |       |
| table_name    | varchar(64)                             | NO   | PRI | NULL    |       |
| column_name   | varchar(64)                             | NO   | PRI | NULL    |       |
| min_value     | varbinary(255)                          | YES  |     | NULL    |       |
| max_value     | varbinary(255)                          | YES  |     | NULL    |       |
| nulls_ratio   | decimal(12,4)                           | YES  |     | NULL    |       |
| avg_length    | decimal(12,4)                           | YES  |     | NULL    |       |
| avg_frequency | decimal(12,4)                           | YES  |     | NULL    |       |
| hist_size     | tinyint(3) unsigned                     | YES  |     | NULL    |       |
| hist_type     | enum('SINGLE_PREC_HB','DOUBLE_PREC_HB') | YES  |     | NULL    |       |
| histogram     | varbinary(255)                          | YES  |     | NULL    |       |
+---------------+-----------------------------------------+------+-----+---------+-------+
11 rows in set (0.01 sec)
```
MariaDB10.0在管理直方图时采用 **高度均衡直方图算法**，比其他商用RDBMS略有落后。

**高度均衡直方图算法先对所有列值进行排序，再按相同的记录个数将其划为几个组，然后取各组的最后一个值
（排序后的最大值）保存到直方图**。 
