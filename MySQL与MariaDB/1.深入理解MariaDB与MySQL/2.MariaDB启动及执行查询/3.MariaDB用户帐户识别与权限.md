MariaDB用户帐户识别与权限
============================================

### 用户识别
与其他DBMS略有不同，MariaDB的用户帐号不仅包含 **用户名**，而且用户的 **连接点（运行客户端的主机名，域名，
IP地址）** 也是用户帐号的组成部分。在MariaDB中用于包围标识符，常常使用 **单引号（'）** 表示。
示例，下面的用户帐号只能在运行MariaDB服务器的机器中使用`svc_id`连接MariaDB服务器。若只注册了下面
一个用户帐号，那么在其他计算机中使用`svc_id`将无法连接到MariaDB服务器：
```
‘svc_id’@'127.0.0.1'
```
若想创建可以从 **外部所有计算机** 连接MariaDB服务器的用户帐号，只需将用户帐号的主机部分替换为 **“％”**
即可，“％”代表所有IP或主机名。

如果存在多个重复帐号，MariaDB服务器进行用户认证时会从中选取一个。此时，MariaDB服务器会选择哪一个呢？
示例：
```
'svc_id'@'192.168.0.10'         （该帐号密码为：123）
'svc_id'@'%'                    （该帐号密码为：abc）
```
在IP地址为192.168.0.10的PC上连接MariaDB服务器时，连接成功与否取决于用户使用第一个还是第二个帐号
信息进行连接。MariaDB服务器会选择哪一个呢？ **选择权限与帐号信息时，MariaDB总是先选择范围最小的那个**。
上面两个帐号信息中，'svc_id'@'192.168.0.10'会被选择。注意，在使用此帐号登录时，必须使用密码123，
如果使用密码abc进行登录时，会因密码不一致而遭到MariaDB服务器的拒绝。那么，为什么MariaDB服务器允许
重复帐号存在呢？因为数据库系统的运维过程中常常会遇到这种需求。但是，这也会引发一些问题，比如开发者常常
会遇到“无法连接MariaDB服务器”的情况。

### 权限
MariaDB服务器中存在多种权限，只有理解这些基本权限，才能根据用途为连接服务器的用户赋予相应的权限。
从MariaDB10.0开始，用户可以创建 **权限组（Role）**，并可以将它赋予某特定用户，一个权限组包含多个权限。

根据MariaDB权限的作用范围，可以将权限分为 **服务器级权限**，**数据库级权限**，**表级权限**，
以及 **与存储程序相关的权限**。此外还有列级权限，由于这种权限并不常用，帮省略。为某个用户赋予权限时，
要使用如下所示的 **GRANT命令**。其中，**ON子句** 用于指定 **数据库对象**，可指定的数据库对象有如下几种：

1. **＊.＊**：该对象为整个MariaDB服务器，此时在`privilege_list`中只能用全局权限。
2. **db1.＊**：该对象为某个特定的数据库，`privilege_list`中可以出现除全局权限外的数据库级，表级，存储程序级权限。
3. **db1.table1**：该对象为某个数据库中的一个表，`privilege_list`中只能使用表级权限。
4. **db1.stored_program1**：该对象为某个数据库的一个存储程序，`privilege_list`中只能使用存储程序级别权限。

语法格式：
```
GRANT <privilege_list> ON <db>.<table> TO '<user>'@'<host>';
```
#### 全局权限
| 权限            | 说明            |
| :------------- | :------------- |
| CREATE USER    | 创建一个新帐户的权限|
| FILE           | 使用LOAD DATA INFILE 或 LOAD FILE()函数访问磁盘文件时所需的权限|
| GRANT OPTION   | 可以对其他用户授权的权限（即使有GRANT权限，也只能将自己拥有的权限授予其他用户）|
