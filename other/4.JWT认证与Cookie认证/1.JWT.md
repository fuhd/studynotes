JWT（在Web应用间安全地传递信息）
==================================
JSON Web Token（JWT）是一个非常轻巧的规范。这个规范允许我们 **使用JWT在用户和服务器之间传递安全可靠的信息**。
让我们来假想一下一个场景。在A用户关注了B用户的时候，系统发邮件给B用户，并且附有一个链接“点此关注A用户”。
链接的地址可以是这样的：
```
https://your.awesome-app.com/make-friend/?from_user=B&target_user=A
```
通过像这样的URL来描述有一个弊端，那就是要求用户B是一定要先登录的（因为url中没有像cookie一样，标识用户身份的信息吗？）。
可不可以简化这个流程，让B用户不用登录就可以完成这个操作？**JWT** 就允许我们做到这点。

### JWT的组成
一个JWT实际上就是一个字符串，它由三部分组成，**头部** 、**载荷** 与 **签名** 。
#### 载荷（Payload）
我们先将上面的添加好友的操作描述成一个 **JSON对象** 。其中添加了一些其他的信息，帮助今后收到这个JWT的服务器理解这个JWT。
```json
{
  "iss": "John Wu JWT",
  "iat": 1441593502,
  "exp": 1441594722,
  "aud": "www.example.com",
  "sub": "jrocket@example.com",
  "from_user": "B",
  "target_user": "A"
}
```
这里面的 **前五个字段** 都是由 **JWT的标准** 所定义的：

+ `iss`: 该JWT的签发者
+ `sub`: 该JWT所面向的用户
+ `aud`: 接收该JWT的一方
+ `exp(expires)`: 什么时候过期，这里是一个Unix时间戳
+ `iat(issued at)`: 在什么时候签发的

将上面的 **JSON对象** 进行 **base64编码** 可以得到下面的字符串。这个字符串我们将它称作JWT的 **Payload（载荷）** 。
```
eyJpc3MiOiJKb2huIFd1IEpXVCIsImlhdCI6MTQ0MTU5MzUwMiwiZXhwIjoxNDQxNTk0NzIyLCJhdWQiOiJ3d3cuZXhhbXBsZS5jb
20iLCJzdWIiOiJqcm9ja2V0QGV4YW1wbGUuY29tIiwiZnJvbV91c2VyIjoiQiIsInRhcmdldF91c2VyIjoiQSJ9
```
