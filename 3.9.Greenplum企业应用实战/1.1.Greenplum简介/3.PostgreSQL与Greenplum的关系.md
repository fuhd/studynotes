PostgreSQL与Greenplum的关系
================================================================================
## 1.PostgreSQL
**`PostgreSQL`是一种非常先进的对象-关系型数据库管理系统（`ORDBMS`），是目前功能最强大，特性最
丰富和技术最先进的自由软件数据库系统之一，其某些特性甚至连商业数据库都不具备。这个起源于伯克利
（`BSD`）的数据库研究计划目前已经衍生成一项国际开发项目，并且有非常广泛的用户**。

`PostgreSQL`的特点可以说是数不胜数，称其为最先进的开源软件数据库当之无愧，支持绝大部分的主流数据
库特性，主要体现在如下几方面。
### 1.1.函数/存储过程
PostgreSQL对非常丰富的过程类语言提供支持，可以编写自定义函数／存储过程。
+ 内置的`plpgsql`，一种类似Oracle的`PLsql`的语言。
+ 支持的脚本语言有：`PL/Lua`、`PL/LOLCODE`、`PL/Perl`、`PL/HP`、`PL/Python`、`PL/Ruby`、
`PL/sh`、`PL/Tcl`和`PL/Scheme`。
+ 编译语言有`C`、`C++`和`JAVA`。
+ 统计语言`PL/R`。

### 1.2.索引
`PostgreSQL`支持用户定义的索引访问方法，并且内置了`B-tree`、哈希和`GiST`索引。`PostgreSQL`
中的索引有下面几个特点：
+ 可以从后向前扫描。
+ 可以创建表达式索引。
+ 部分索引。

### 1.3.触发器
触发器是由SQL查询的动作触发的事件。比如，一个`INSERT`查询可能激活一个检查输入值是否有效的触发器。
大多数触发器都只对`INSERT`或者`UPDATE`查询有效。

`PostgreSQL`完全支持触发器，可以附着在表上，但是不能在视图上。不过视图可以有规则。多个触发器是按
照字母顺序触发的。我们还可以用其他过程语言书写触发器函数，不仅仅`PL/PgSQL`。

### 1.4.并发管理（MVCC）
`PostgreSQL`的并发管理使用的是一种叫做“MVCC”（多版本并发机制）的机制，这种机制实际上就是现在在
众多所谓的编程语言中极其火爆的“**Lock Free**”，其本质是通过类似科幻世界的时空穿梭的原理，给予每
个用户一个自己的“时空”，然后通过原子的”时空“控制来控制时间基线，并以此控制并发更改的可见区域，从
而实现近乎无锁的并发，而同时还能在很大程序上保证数据库的`ACID`特性。

### 1.5.规则（RULE）
规则允许我们对由一个查询生成的查询树进行改写。

### 1.6.数据类型
`PostgreSQL`支持非常广泛的数据类型，包括：
+ 任意精度的数值类型；
+ 无限长度的文本类型；
+ 几何原语；
+ IPv4和IPv6类型；
+ CIDR块和MAC地址；
+ 数组；

用户还可以创建自己的类型，并且可以利用GiST框架把这些类型做成完全可索引的，比如来自`PostGIS`的地
理信息系统（`GIS`）的数据类型。

### 1.7.用户定义对象
因为`PostgreSQL`使用一种基于系统表的可扩展的结构设计，所以`PostgreSQL`内部的几乎所有对象都可
以由用户定义，这些对象包括：
+ 索引；
+ 操作符（内部操作符可以被覆盖）；
+ 聚集函数；
+ 域；
+ 类型转换；
+ 编码转换；

### 1.8.继承
`PostgreSQL`的表是可以相互继承的。一个表可以有父表，父表的结构变化会导致子表的结构变化，而对子
表的插入和数据更新等也会反映到父表中。

### 1.9.其他特性与扩展
`PostgreSQL`还支持大量其他的特性，比如：
+ 二进制和文本大对象存储；
+ 在线备份；
+ TOAST（`The Oversized-Attribute Storage Technique`）用于透明地在独立的地方保存大的数
据库属性，当数据超过一定大小的时候，会自动进行压缩以节省空间；
+ 正则表达式；

此外`PostgreSQL`还有大量的附加模块和扩展版本，比如，多种不同的主从/主主复制方案：
+ Slony-I；
+ pgcluster；
+ Mammoth replicator；
+ Bucardo；

## 2.Greenplum
简单地说，`Greenplum`就是一个与`Oracle`、`DB2`、`PostgreSQL`一样 **面向对象的关系型数据库**。
我们通过 **标准的`SQL`** 可以对`Greenplum`中的数据进行访问存取。

**本质上讲，`Greenplum`是一个关系型数据库集群，它实际上是由数个独立的数据库服务组合成的逻辑数
据库**。与`Oracle RAC`的`Shared-Everything`架构不同，**`Greenplum`采用`Shared-Nothing`
架构，整个集群由很多个数据节点（`Segment Host`）和控制节点（`Master Host`）组成，其中每个数
据节点上可以运行多个数据库**。简单来说，**`Shared-Nothing`是一个分布式的架构，每个节点相对独立。
在典型的`Shared-Nothing`中，每一个节点上所有的资源（CPU、内存和磁盘）都是独立的，每个节点都只
有全部数据的一部分，也只能使用本节点的资源**。

基于对`Shared-Nothing`分布式架构模式的分析，`Greenplum`高效处理`I/O`数据吞吐和并发计算的过
程就很好理解了。在`Greenplum`中，需要存储









































dd
