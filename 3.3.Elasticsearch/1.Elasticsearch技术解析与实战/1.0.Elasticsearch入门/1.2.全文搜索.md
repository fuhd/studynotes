全文搜索
================================================================================
**全文搜索** 是指计算机搜索程序通过 **扫描文章中的每一个词，对每一个词建立一个索引**，指明该词在
文章中出现的 **次数和位置**，当用户查询时，搜索程序就根据事先建立的索引进行查找，并将查找的结果反
馈给用户。这个过程类似于通过字典中的搜索字表查字的过程。

### 1.Lucene
Lucene是目前全球使用最广的 **全文搜索引擎开源库**，它是Apache软件基金会中一个 **开放源代码的全
文搜索引擎工具包**，是一个全文搜索引擎的架构，提供了完整的 **查询引擎** 和 **索引引擎**，部分
**文本分析引擎**。

### 2.Lucene倒排索引
**倒排索引** 源于实际应用中 **需要根据属性的值来查找记录**。这种索引表中的 **每一项都包括一个属性
值和具有该属性值的各记录的地址**。由于不是由记录来确定属性值，而是由属性值来确定记录的位置，因而称
为倒排索引文件（inverrted file）。

倒排索引中的 **索引对象** 是文档或者文档集合中的 **单词** 等，用来存储这些单词在一个文档或者一组
文档中的存储位置，是对文档或者文档集合的一种最常用的索引机制。搜索引擎的关键步骤就是建立倒排索引，
**倒排索引一般表示为一个关键词，然后是它的频度（出现次数）、位置（出现在哪一篇文章或网页中，及有关
的日期，作者等信息）**，好比一本书的目录、标签一般。

#### 2.1.取得关键词
假设有两篇文章：文章1和文章2。

文章1：Tom lives in Guangzhou，I live in Guangzhou too.

文章2：He once lived in Shanghai.

由于 **Lucene是基于关键词索引和查询** 的，首先我们要取得这两篇文章的关键词，通常我们需要如下处理
措施：
+ 我们现在有的是文章内容，即一个字符串，我们先要找出字符串中的所有单词，即 **分词**。英文单词由于
用空格分隔，比较好处理。**中文单词** 间由于是连在一起的，所以需要 **特殊的分词处理**。
+ 文章中的“in”，“once”，“too”等词没有什么实际意义，中文中的“的”、”是“等字通常也无具体含义，这些
**不代表概念的词是可以过滤掉的**。
+ 用户通常希望查“He”时能把含“he”和“HE”的文章也找出来，所以所有单词需要 **统一大小写**。
+ 用户通常希望查“live”时能把含“lives”和“lived”的文章也找出来，所以需要把“lives”，“lived”
**还原** 成“live”。
+ 文章中的标点符号通常不表示某种概念，也可以过滤掉。

在Lucene中以上措施由Analyzer类完成。经过上面处理后，得到如下结果：

文章1的所有关键词为：[tom][liv][guangzhou][i][live][guangzhou]

文章2的所有关键词为：[he][live][shanghai]

#### 2.2.建立例排索引
有了关键词后，我们就可以建立 **倒排索引** 了。上面的对应关系是：“文章号”对“文章中所有关键词”。
**例排索引把这个关系倒过来**，变成：“关键词”对”拥有该关键词的所有文章号“。

倒排索引关键词文章号对应关系示例：

| 关键词 | 文章号  |
| :------------- | :------------- |
| guangzhou | 1 |
| he | 2 |
| i | 1 |
| live | 1,2 |
| shanghai | 2 |
| tom | 1 |
























































ddd
