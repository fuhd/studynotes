数据一致性
=============================================================
### 强一致性
当更新操作完成之后，任何多个后续进程或者线程的访问都会返回最新的更新过的值。这种是对用户最友好的，
就是用户上一次写什么，下一次就保证能读到什么。根据 **`CAP`** 理论，这种实现需要 **牺牲可用性**。

### 弱一致性
系统并不保证后续进程或者线程的访问都会返回最新更新过的值。**系统在数据写入成功之后，不承诺立即可以读到最新写入的值，
也不会具体的承诺多久之后可以读到**。

### 最终一致性
**最终一致性是弱一致性的特定形式**。系统保证在没有后续更新的前提下，系统最终返回上一次更新操作的值。
在没有故障发生的前提下，不一致窗口的时间主要受 **通信延迟，系统负载和复制副本的个数** 影响。

在实际工程实践中，最终一致性存在以下5类主要变种：
+ **因果一致性**：因果一致性是指，如果进程`A`在更新完某个数据项后通知了进程`B`，那么进程`B`之后对该数据项的
访问都应该能够获取到进程`A`更新后的最新值，并且如果进程`B`要对该数据项进行更新操作的话，务必基于进程`A`更新后的最新值，
即不能发生丢失更新情况。与此同时，与进程`A`无因果关系的进程`C`的数据访问则没有这样的限制。

### 关注点
在工程实践上，为了保障系统的可用性，互联网系统大多 **将强一致性需求转换成最终一致性的需求**，
并通过系统 **执行幂等性** 的保证，保证数据的最终一致性。