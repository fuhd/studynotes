编写定制的task类
========================
前一节，你创建了一个可以和PaaS服务商交互的可共享脚本，但它也是有优点和缺点的：

**优点:**
+ task都是可利用的，并且可以导入到其他项目中。
+ task是可配置的。消费脚本仅仅需要知道必要的输入。
+ 最新状态检查功能可以通过task的输入和输出属性使用。

**缺点：**
+ task的逻辑是通过action的闭包定义的，因此不能够放入类和包中。
+ 添加的task越多，构建脚本就越长，越难维护。
+ 不能进行单元测试和集成测试

### 定制task的实现选项
Gradle提供了一个可以继承的默认实现：`org.gradle.api.DefaultTask`。实际上，许多Gradle标准插件的task
都继承自DefaultTask。

Gradle有多种定义定制化task类的方式。最简单的方式就是把它和构建代码一起放在构建脚本里。当触发脚本中的一个
task时，定制的task会自动编译并放到`classpath`中。

另一种方式就是将定制的task放到项目根目录下的`buildSrc`目录中。要确保遵从语言插件定义的源代码目录约定。
例如，如果你用Java语言编写定制的task，就要将它放到`buildSrc/src/main/java`目录下。Gradle会将该目录
当作默认的源代码目录，当运行构建时，自动尝试编译所有的源代码文件。记住，Gradle的增量构建特性在这里也是支持的。
位于 **`buildSrc`目录下的定制的task类被所有的项目构建脚本共享** ，并且在`classpath`中自动可用。
为了使定制和task可以在多个项目中共享，你可以将它们打成JAR文件，然后在构建脚本的`classpath`中定义。

编写定制task类的三种方式：
+ 在构建脚本中定制任务类
+ 在项目的`buildSrc`目录下定制任务类
+ 把编写的task类打成JAR包，在构建脚本build.gradle中使用

### 在buildSrc下定义定制任务
现在，来试试方式2。你需要在buildSrc目录下创建定制task源文件。现在项目结构变成这样：
```
|----build.gradle
|----buildSrc
|    |----build.gradle
|    |----src
|         |----main
|              |----groovy
```
