定义
=======================================

### 定义
一个Haskell函数程序由一系列的 **定义** 组成。一个Haskell定义将一个 **名称** （name）与一个特定
**类型**（type）的值相关联。常用术语 **标识符** （identifier）代替命名，两者含义是一样的。

最简单的定义具有如下形式：
```haskell
name :: type
name = expression
```
例如：
```haskell
size :: Integer
size = 12 + 13
```
在这个定义中，位于左边的名称`size`与右边表达式的值`25`相关联，其类型为`Integer`，即整数的类型。
符号“`::`”读作 **“是一个”** ，故上述定义的第一行读作“size是一个Integer”。

**注意**：**函数** 和 **值** 的名称要以 **小写字母** 开头，而 **类型名** 要以 **大写字母** 开头。

### 函数定义
函数也可以自定义：
```haskell
--函数类型声明
square :: Integer -> Integer
--函数定义
square n = n * n
```
第一行说明了 **函数的类型**，箭头 `->` 表示`square`是一个 **函数**，需要一个输入，箭头左边表示其输入参数
的类型是`Integer`，箭头右边表示其输出结果的类型是`Integer`。第二行给出了 **函数的定义**。

**函数的类型说明具有如下格式：**
```haskell
name :: t1 -> t2 -> ... -> tk -> t
```
`name`为 **函数名**，`t1`到`tk`为 **参数类型**，`t`为 **结果类型**。**多个箭头时，最后一个箭头的
右边就是结果类型，前面其它的都是参数类型**。

#### 函数的复合
下面看下示例，我们要旋转图片，定义了如下几个函数：
```haskell
--上下翻转图片
flipH :: Picture -> Picture
flipH pic = ......
--左右翻转图片
flipV :: Picture -> Picture
flipV pic = ......
--180度旋转图片
rotate :: Picture -> Picture
rotate pic = flipH (flipV pic)
--定义并赋值
rotateHorse :: Picture
rotateHorse = rotate horse
```
函数`rotate`定义的模式在`Haskell`中具有普遍性，**即将一个函数应用于其参数，然后将另一个函数应用于前面的结果**。
所以，`Haskell`对这种模式给出一种 **将两个函数直接相结合** 的方式。函数`rotate`可定义为：
```haskell
rotate :: Picture -> Picture
--两个函数名中间使用点号分隔
rotate = flipH . flipV
```
定义中的 **符号"."** 代表 **函数的复合（function composition）**，其中 **一个函数的输出是另一个函数的输入**。
通过将两个函数的输入和输出相连接，构造出一个新的函数。由此可以设想，函数可以有许多其他的连接方式，这个后面再讲！

#### 函数作为中缀运算符使用
示例：
```Haskell
horse::Picture
flipH::Picture -> Picture
above::Picture -> Picture -> Picture
horse 'above' (flipH horse)
```
这里将函数above加上 **反引号** 后（'above'）可以作为 **中缀运算** 使用。因为这种DSL是嵌入Haskell中的，
所以这种DSL也可以使用Haskell具有的所有特性。
