语法
=============================================
### 定义与书写格式
一个脚本包含了一个接一个的定义。如何分辨一个定义的结束，另一个定义的开始呢？在Haskell中，
程序的格式表述了定义在什么地方开始，什么地方结束。

一个 **定义的结束** 是由与此定义 **开始位置** 处于 **同一列** 的字符或者 **处于其左边那一列**
的字符来确定（也就是说，以开始位置的字符为起点，向右向下画一个方框，所有写在方框内的部分均属于此定义，
当方框左边框遇到字符或左边框左边有字符出现时，方框闭合，就是此定义结束！！）。因此，在书写一系列定义时，
**所有定义开始位置应该处于同一列**。这种版本格式规则称为 **越位规则**（offside rule）。

Haskell的显式结束符为 **“;”**，如果要把多个定义写在同一行，可以使用 **“;”**，示例：
```haskell
answer = 42; facSize = 720
```
#### 注：关于格式错误
如果我们违反格式规则，如：
```haskell
funny x = x +
1
```
则会得到如下错误信息：
```
Chapter3.hs:33:0:
parse error (possibly incorrect indentation)
Failed, modules loaded: none.
```
以上内容表示问题出在缩进上。位置33:0是数字1的位置，即文件Chapter3.hs中第33行0列位置。

### 推荐格式
越位规则允许各种不同的书写格式。比如，有数个子句构成的条件等式定义将选用下列格式：
```haskell
fun v1 v2 .... vn
  |g1         = e1
  |g2         = e2
  ......
  |otherwise  = er(or | gr = er)
```
在这个格式中，**每个子句另起一行， 所有守卫及结果上下对齐**。同时注意，我们总是写明所定义
函数的类型。

如果一个表达式e或者守卫g很长，那么它仍可以 **分成多行**，如下式：
```haskell
fun v1 v2 ... vn
  |一个很长的守卫，
          可能占用多行
          = 一个很长的表达式，
              可能占用多行
  |g2     = e2
  .....
```
如果读者使用一个可感知Haskell的编辑器，如 **设置为Haskell模式的emacs**，那么编辑器将帮助读者编排格式。
特别是对于emacs，重复按 **制表键** 时，系统将基于目前的上下文推荐本行可能的开始编辑位置。

### Haskell的命名
```haskell
addTwo :: Int -> Int -> Int
addTwo first second = first + second
```
Haskell的标识符必须由 **大写或小写字母** 开始，后面可以加上 **字母**，**数字**，
**下划线** 和 **单引号** 构成的序列。在定义中用于 **命名值，变量和类型变量** 的标识符必须以 **小写字母**开始。
**类型名**，如Int；**构造符**，如True和False；**模块名** 及今后要介绍的 **类族名** 均要以 **大写字母** 开始。

如果试图以大写字母开始命名一个函数，如：
```haskell
Funny :: Int -> Int
```
则系统输出错误信息：
```
<interactive>:2:1: Not in scope: data constructor ‘Funny’
```
标识符的选择还有其他的限制。**保留字**（reserved word）集不可用于做标识符，这些保留字包括：

> case class data default deriving do else if import in
> infix infixl infixr instance let module newtype of then type where

**特殊标识符** `as`，`qualified`和`hiding` 在特殊的上下文中有特殊的含义，但可用作普通标识符。

按照常规，当一个标识符由多个词构成时，第二个及以后的各个词的第一个字母用大写字母，如：maxThree，
这是Java中常说的 **驼峰命名规则**。

**关于重新命名（例如：重新定义引导库函数）**
如果要 **重新命名**（redefine）一个在 **引导库** 或者 **其他库** 中的 **函数**，
必须在输入这些库时 **隐藏**（hide）这些函数。

Prelude.hs包含了max函数。如果一个脚本包含如下定义：
```haskell
max :: Integer -> Integer -> Integer
max x y = if x > y then x else y
```
那么此定义与Prelude.hs中的max函数定义发生冲突，加载并执行max函数，GHCi返回下列信息：
```
<interactive>:7:1:
    Ambiguous occurrence ‘max’
    It could refer to either ‘Main.max’,
                             defined at /home/fuhd/abc.hs:2:1
                          or ‘Prelude.max’,
                             imported from ‘Prelude’ at /home/fuhd/abc.hs:1:1
                             (and originally defined in ‘GHC.Classes’)
```
若要重新定义Prelude中的函数，比如max，在脚本中加上下列语句：
```haskell
--加上下面这一句即可
import Prelude hiding (max)
max :: Integer -> Integer -> Integer
max x y = if x > y then x else y
```
`import Prelude hiding (max)`这句应置于`module`语句之后。

Haskell是构建在`Unicode`标准字符集上的。

### 运算符
Haskell包括了各种运算，如：`+`，`++`等。**运算** 是 **中缀函数**，即运算写在其参数中间，而不是像普通的函数
那样写在其参数前面。原则上，所有运算的应用可以通过括号来表示，如：`(((4+8)*3)+2)`。但这样的表达式很快会
变得难于理解。下面的两个性质（**结合性** 与 **优先性**）允许我们 **去掉某些括号**。
