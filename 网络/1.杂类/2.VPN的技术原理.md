VPN的技术原理
============================================
**VPN**，Virtual Private Network（**虚拟专用网络**），被定义为通过一个公用网络（通常是因特网）建立一个临时的、
安全的连接，是一条穿过公用网络的安全、稳定的隧道。**虚拟专用网是对企业内部网的扩展，它可以帮助异地用户、公司分支机构、
商业伙伴及供应商同公司的内部网建立可信的安全连接，并保证数据的安全传输**。

IETF组织对基于IP的VPN解释为：**通过专门的隧道加密技术在公共数据网络上仿真一条点到点的专线技术**。所谓虚拟，
是指用户不再需要拥有实际的长途数据线路，而是使用 **Internet公众数据网络** 的长途数据线路。所谓专用网络，
是指用户可以为自己制定一个最符合自己需求的网络。

以 **OSI模型** 参照标准，不同的VPN技术可以在不同的OSI协议层实现。

VPN在OSI中的层次|VPN实现技术
--------------|------------
应用层|SSL VPN
会话层|Socks5 VPN
网络层|IPSec VPN
数据链路层|PPTP及L2TP

### 应用层VPN
#### SSL协议
**安全套接字层**（Secure Socket Layer，SSL）属于 **高层安全机制**，广泛应用于 **Web浏览程序和Web服务器程序**，
提供对等的身份认证和应用数据的加密。**在SSL中，身份认证是基于证书的**。服务器方向客户方的认证是必须的。
而SSL版本3中，客户方向服务方的认证只是可选项，但是并没有得到广泛的应用。**SSL会话中包含一个握手阶段，
在这个阶段通信双方交换证书，生成会话密钥，协商以后通信使用的加密算法**。完成了握手以后，对于B/S的应用，
应用程序就可以安全地传输数据而无需做很大修改，除了在传输数据时要调用SSL API而不是传统的套接字API，
但是对于C/S结构的应用软件，其解决方案与会话层的VPN异曲同工。SSL是一个端到端协议，因而是在处于通信通路端点的机器上实现
（通常是在客户机和服务器上），而不需要在通信通路的中间节点（如路由器或防火墙）上实现。**虽然理论上SSL可以用于保护TCP/IP 通信，但事实上SSL的应用几乎只限于HTTP**。在 **SSL通信** 中，服务器方使用 **443端口**，而客户方的端口是任选的。
