模块的导入和重载
================================================================================
用简单的术语来讲，**每一个以扩展名`py`结尾的Python源代码文件都是一个模块**。其他的文件可以 **通
过导入一个模块读取这个模块的内容**。导入从本质上来讲，就是载入另一个文件，并能够读取那个文件的内容。

这种基于模块的方式使 **模块** 变成了 **Python程序架构的一个核心概念**。更大的程序往往以 **多个
模块文件的形式出现**，并且导入了其他模块文件的工具。**其中的一个模块文件设计成主文件，或叫做顶层
文件（就是那个启动后能够运行整个程序的文件）**。

例如，如果开始一个交互对话（从系统命令行、从开始菜单或者在IDLE中），你可以运行之前创建的文件
`script1.py`，通过简单的 **`import`** 来实现：
```shell
$ python
Python 3.7.0 | packaged by conda-forge | (default, Sep 30 2018, 14:56:18)
[GCC 4.8.2 20140120 (Red Hat 4.8.2-15)] :: Anaconda custom (64-bit) on linux
Type "help", "copyright", "credits" or "license" for more information.
```
```python
>>> import script1
```
```
linux
1267650600228229401496703205376
Spam!Spam!Spam!Spam!Spam!Spam!Spam!Spam!
>>>
```
这可以运行，**但是在默认情况下，只是在每次会话的第一次运行。在第一次导入之后，其他的导入都不会再
工作**，甚至在另一个窗口中改变并保存了模块的源代码文件也不行。**这是有意设计的结果。导入是一个开
销很大的操作**，以至于每个文件、每个程序运行不能够重复多于一次。

**但是如果真的想要Python在同一次会话中再次运行文件（不停止和重新启动会话），需要调用`imp`标准库
模块中可用的`reload`函数**（这个函数也是一个Python2.6内置函数，但在Python3中不是内置的）。
```python
# imp这个模块好像过时了，已经废弃了
>>> from imp import reload
>>> reload(script1)
```
```
linux
1267650600228229401496703205376
Spam!Spam!Spam!Spam!Spam!Spam!Spam!Spam!
<module 'script1' from '/home/fuhd/work/workspace/python1/script1.py'>
```
这里的`from`语句直接从一个模块中复制一个名字。`reload`函数载入并运行了文件最新版本的代码，如果
已经在另一个窗口中修改并保存了它，那将反映出修改变化。

**`reload`函数希望获得的参数是一个已经加载了的模块对象的名称，所以如果在重载之前，请确保已经成
功地导入了这个模块**。值得注意的是，`reload`函数在模块对象的名称前还需要括号，`import`则不需要。
`reload`是被调用的函数，而`import`是一个语句。这也就是为什么你必须把模块名称传递给`reload`函
数作为括号中的参数，并且这也是在重载时得到了额外的一行输出的原因。**最后一行输出是`reload`调用后
的返回值的打印显示，`reload`函数的返回值是一个Python模块对象**。
```
注意：

用一个from载入的名字不会通过一个reload直接更新，但是，用一条import语句访问的名字则会。如果你的名
字似乎不会在一次重载后改变，尝试使用import和module.attribute名称引用。
```

## 1.模块的显要特性：属性
**导入和重载提供了一种自然的程序启动的选择，因为导入操作将会在最后一步执行文件**。从一般意义上来说，
**模块往往就是变量名的封装，被认作是命名空间。在一个包中的变量名就是所谓的属性，也就是说，属性就是
绑定在特定的对象上的变量名**。

**在典型的应用中，导入者得到了模块文件中在顶层所定义的所有变量名**。这些变量名通常被赋值给通过模块
函数、类、变量以及其他被导出的工具。这些往往都会在其他文件中或程序中使用。**表面上来看，一个模块文
件的变量名可以通过两Python语句读取： import和from，以及reload调用**。

为了讲清楚，请使用文本编辑器创建一个名为`myfile.py`的单行的Python模块文件，其内容如下所示：
```python
title = "The Meaning of Life"
```
**当文件导入时，它的代码运行并生成了模块的属性。这个赋值语句创建了一个名为`title`的模块的属性**。
可以通过两种不同的办法从其他组件获得这个模块的`title`属性。**第一种，你可以通过使用一个`import`
语句将模块作为一个整体载入，并使用模块名后跟一个属性来获取它**：
```shell
$ python
```
```python
>>> import myfile
>>> print(myfile.title)
Hte Meaning of Life
>>>
```












































dd
