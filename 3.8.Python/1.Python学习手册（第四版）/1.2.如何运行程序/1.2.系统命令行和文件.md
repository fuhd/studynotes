系统命令行和文件
================================================================================
尽管交互命令行对于实验和测试来说都很好，但是它也有一个很大的缺点：Python一旦执行了输入的程序之后，
它们就消失了。为了能够永久的保存程序，需要 **在文件中写入代码，这样的文件通常叫做模块。模块是一个
包含了Python语句的简单文本文件**。一旦编写完成，可以让Python解释器多次运行这样的文件中的语句。
并且可以以多种方式去运行：通过系统命令行、通过点击图标、通过在IDLE用户界面中选择等方式。

**可以直接运行的模块文件往往也叫做脚本，有些人将“模块”这个说法应用于被另一个文件所导入的文件**。
不论你怎样称呼它们，下面的几部分内容将会探索如何运行输入至模块文件的代码。这一节将会介绍如何以最
基本的方法运行文件：**通过在系统提示模式下的python命令行**。

## 1.第一段脚本
打开文本编辑器，并在命名为`script1.py`的新文本文件中输入如下Python语句：
```python
# A first Python script
import sys
print(sys.platform)
print(2 ** 100)
x = 'Spam!'
print(x * 8)
```
简要来说，这个文件：
+ 导入一个Python模块，以获取系统平台的名称
+ 运行3个print函数调用，以显示脚本的结果
+ 使用一个名为`x`的变量，在创建的时候对其赋值，保存一个字符串对象
+ 应用我们将从下一章开始学习的各种对象操作

为了增加乐趣，**我在这里还添加了一些正式的Python注释，即`#`符号之后的文本。注释可以自成一行，也
可以放置在代码行的右边**。

注意，这个模板文件叫做`script1.py`。**对于所有的顶层文件，也应该直接叫做脚本，但是，要导入到客
户端的代码的文件必须用`.py`后缀**。此外，一些文本编辑器通过`.py`后缀来检测Python文件。

## 2.使用命令行运行文件
一旦已经保存了这个文本文件，可以将其完整的文件名作为一条`python`命令的第一个参数，在系统`shell`
提示中输入，从而要求Python来运行它：
```shell
python script1.py
```
```
linux
1267650600228229401496703205376
Spam!Spam!Spam!Spam!Spam!Spam!Spam!Spam!
```
**由于这种方法使用`shell`命令行来启动Python程序，所有常用的`shell`语法都适用**。例如，我们可
以使用特定的`shell`语法，**把一个Python脚本的输出定向到一个文件中**，从而保存起来以备以后使用
或查看：
```shell
python script1.py > saveit.txt
```
这通常叫做 **流重定向（`stream redirection`）**，它用于文本的输入和输出，而且在`windows`和
类似`Unix`的系统上都可以使用。

## 3.使用命令行和文件
提示大家注意这些新手陷阱：
+ **注意Windows上的默认扩展名**。windows默认隐藏文件扩展名，所以除非改变查看选项，否则你可能
没有办法注意到你编写的文件是文本文件而不是Python文件。文件的图标可以给我们一些提示，如果图标上没
有一条小蛇的话，那就是错误的。
+ **在系统提示模式下使用文件扩展名，但是在导入时别使用文件扩展名**。
+ **在文件中使用print语句**。

## 4.UNIX可执行脚本（`#!`）
**如果在Linux及其他的UNIX类系统上使用Python，可以将Python代码编程为可执行程序，就像使用Shell
语言编写的`csh`或`ksh`程序一样。这样的脚本往往叫做可执行脚本。简而言之，UNIX风格的可执行脚本包含
了Python语句的一般文本文件**，但是有两个特殊的属性：
+ **它们的第一行是特定的**。脚本的第一行往往以字符`#!`开始（常常叫做“hash bang”），其后紧跟着
机器Python解释器的路径。
+ **它们往往都拥有可执行的权限**。脚本文件往往通过告诉操作系统它们可以作为顶层程序执行，而拥有可
执行的权限。在UNIX系统上，往往可以使用`chmod +x file.py`来实现这样的目的。

让我们看一个UNIX类系统的例子。使用文本编辑器创建一个名为`brian`的文件：
```python
#! /home/fuhd/work/anaconda3/envs/jrr/bin/python3.5
print('The Bright Side ' + 'of Life...')
```
**文件顶端的特定的一行告诉系统Python解释器保存在哪里**。从技术上来看，第一行是Python注释，就像
之前所介绍的一样，Python程序的注释都是以`#`开始并直到本行的结束为止。它们是为代码读者提供额外信
息的地方。但是当每一行和这个文件一样的话，它就有特定的意义，因为操作系统使用它找到解释器来运行文件其
他部分的程序代码。

并且，注意这个文件命名为`brian`，而没有像之前模块文件一样使用`.py`后缀。给文件名增加`.py`也没有
关系，但是因为这个文件中的代码并不打算被其他模块所导入，这个文件的文件名是没有关系的。如果通过使用
`chmod +x brian`这条`shell`命令赋予了这个文件可执行的权限，你就能够在操作系统的`shell`中运行
它，就好像这是一个二进制文件一样：
```shell
$ ./brian
```
```
The Bright Side of Life...
```
> UNIX env查找技巧
> 在一些UNIX系统上，也许可以避免硬编码Python解释器的路径，而可以在文件特定的第一行注释中像这样写：
> #!/usr/bin/env python
> ...script goes here...
> 当这样编写代码的时候，env程序可以通过系统的搜索路径的设置定位Python解释器。这种方法可以使代码
> 更具可移植性，因为没有必要在所有的代码中的第一行都硬编码Python的安装路径。

示例：
```python
#! /usr/bin/env python
print('The Bright Side ' + 'of Life...')
```
