TCP/IP协议分层模型
==============================================================
### TCP/IP与OSI参考模型

![tcp-ip与osi参考模型](img/tcp-ip与osi参考模型.png)

### 硬件（物理层）
TCP/IP的最底层是负责数据传输的硬件。这种硬件就 **相当于以太网或电话线路等物理层的设备**。

### 网络接口层（数据链路层）
网络接口层利用以太网中的数据链路层进行通信，因此属于接口层。也就是说，**把它当做让网卡（NIC）起作用的
“驱动程序”也无妨。驱动程序是在操作系统与硬件之间起桥梁作用的软件**。计算机的外围附加设备或扩展卡，
不是直接插到电脑上或电脑的扩展槽上就能马上使用的，还需要有相应驱动程序的支持。例如，换了一个新的NIC网卡，
不仅需要硬件，还需要软件才能真正投入使用。

### 互联网层（网络层）
互联网层IP协议，它相当于OSI模型中的第3层网络层。**IP协议基于IP地址转发分包数据**。

![互联网层](img/互联网层.png)

TCP/IP分层中的互联网层与传输层的功能通常由操作系统提供。尤其是路由器，它必须得实现通过互联网层转发分组
数据包的功能。

+ **IP**：IP是跨越网络传送数据包，使整个互联网都能收到数据的协议。IP协议使数据能够发送到地球的另一端，
这期间它使用IP地址作为主机的标识。**虽然IP也是分组交换的一种协议，但是它不具有重发机制**。即使分组数据包
未能到达对端主机也不会重发。因此，**属于非可靠性传输协议**。
+ **ICMP**：**IP数据包在发送途中一旦发生异常导致无法到达对端目标地址时，需要给发送端发送一个发生异常的通知。
ICMP就是为这一功能而制定的**。它有时也被用来诊断网络的健康状况。
+ **ARP**：从分组数据包的 **IP地址中解析出物理地址**（MAC地址）的一种协议。

### 传输层
TCP/IP的传输层有 **两个具有代表性的协议**。该层的功能本身与OSI参考模型中的传输层类似。

**传输层最主要的功能就是能够让应用程序之间实现通信**。计算机内部，通常同一时间运行着多个程序。为此，
必须分清是哪些程序与哪些程序在进行通信。**识别这些应用程序的是端口号**。

+ **TCP**：**TCP是一种面向连接的传输层协议。它可以保证两端通信主机之间的通信可达。TCP能够正确处理在
传输过程中丢包、传输顺序乱掉等异常情况**。此外，TCP还能够有效利用带宽，缓解网络拥堵。然而，**为了建立与断开
连接，有时它需要至少7次的发包收包**，导致网络流量的浪费。此外，为了提高网络的利用率，TCP协议中定义了各种各样
复杂的规范，因此 **不利于视频会议（音频、视频的数据量既定）等场合使用**。
+ **UDP**：UDP有别于TCP，**它是一种面向无连接的传输层协议**。**UDP不会关注对端是否真的收到了传送过去的数据，
如果需要检查对端是否收到分组数据包，或者对端是否连接到网络，则需要在应用程序中实现**。UDP常用于 **分组数据较少
或多播、广播通信以及视频通信等多媒体领域**。
