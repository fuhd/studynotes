我的消息去哪儿了呢？持久化和你的策略
======================================================================
关于在Rabbit里创建 **队列和交换器** 有个不可告人的秘密：**默认情况下它们无法幸免于服务器重启**。
没错，**重启RabbitMQ服务器后，那些队列和交换器就都消失了（随同里面的消息）**。原因在于每个 **队列和交换器
的durable属性。该属性默认情况为false，它决定了RabbitMQ是否需要在崩溃或者重启之后重新创建队列（或者
交换器）。将它设置true，这样你就不需要在服务器断电后重新创建队列和交换器了**。你也许会认为把队列和交换器
的durable属性设置为true就足够可以让消息幸免于重启，但是你错了。队列和交换器当然必须被设置成true，
但光这样做还不够。

**能从AMQP服务器崩溃中恢复的消息，我们称之为持久化消息**。在消息发布前，通过把它的 **“投递模式”（delivery mode）
选项设置为2来把消息标记成持久化**。到目前为止，消息还只是被表示为持久化的，但是它还必须被发布到持久化的
交换器中并到达持久化的队列中才行。如果不是这样的话，则包含持久化消息的队列（或者交换器）会在Rabbit崩溃
重启后不复存在，从而导致消息成为孤儿。因此，如果消息想要从Rabbit崩溃中恢复，那么消息必须：
+ **把它的投递模式选项设置为2（持久）**；
+ **发送到持久化的交换器**；
+ **到达持久化的队列**；
