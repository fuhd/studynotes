从底部开始构建 ：队列
=====================================================================
从概念上来讲：**AMQP消息路由必须有三部分：交换器、队列和绑定**。生产者把消息发布到交换器上；
消息最终到达队列，并被消费者接收；**绑定决定了消息如何从交换器路由到特定的队列**。在研究交换器和绑定之前，
需要先理解队列的概念和工作原理。

### 消费者通过两种方式从特定的队列中接收消息
+ 通过AMQP的 **basic.consume** 命令订阅。这样做 **会将信道置为接收模式**，直到取消对队列的订阅为止。
订阅了消息后，消费者在消费（或者拒绝）最近接收的那条消息后，**就能从队列中（可用的）自动接收下一条消息**。
如果消费者处理队列消息，并且/或者需要 **在消息一到达队列时就自动接收的话，你应该使用basic.consume**。
+ 某些时候，**你只想从队列获得单条消息而不是持续订阅**。向队列请求单条消息是通过AMQP的 **basic.get** 命令实现的。
这样做可以让消费者接收队列中的下一条消息。如果要获得更多消息的话，需要再次发送basic.get命令。
**你不应该将basic.get放在一个循环里来替代basic.consume。因为这样做会影响Rabbit的性能。大致上讲，
basic.get命令会订阅消息，获得单条消息，然后取消订阅。消费者理应始终使用basic.consume来实现高吞吐量**。

如果至少有一个消费者订阅了队列的话，**消息会立即发送给这些订阅的消费者**。**但是如果消息到达了无人订阅的队列呢？
在这种情况下，消息会在队列中等待**。一旦有消费者订阅到该队列，那么队列上的消息就会发送给消费者。

**当有多个消费者订阅到同一队列上时，消息是如何分发的？当Rabbit队列拥有多个消费者时，队列收到的消息将以循环
（round-robin）的方式发送给消费者。每条消息只会发送给一个订阅的消费者**。
